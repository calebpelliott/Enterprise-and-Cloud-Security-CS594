[2021-03-04T21:04:02.283-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614909836935] [timeMillis: 1614909842283] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-04T21:04:02.295-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614909836935] [timeMillis: 1614909842295] [levelValue: 800] [[
  Network Listener admin-listener started in: 3ms - bound to [/0.0.0.0:4848]]]

[2021-03-04T21:04:02.297-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614909836935] [timeMillis: 1614909842297] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4862ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-04T21:04:02.364-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614909836928] [timeMillis: 1614909842364] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-04T21:04:02.880-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614909842880] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2233ms), startup services(5956ms), total(8189ms)]]

[2021-03-04T21:04:02.880-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=110 _ThreadName=Executor-Service-1] [timeMillis: 1614909842880] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 51fa029a-9f00-4647-bd56-510e0d3e21c4 Address: /192.168.1.114:4900
}]]

[2021-03-04T21:04:02.891-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614909842891] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-04T21:04:02.895-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614909842895] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-04T21:04:02.917-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614909842917] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-04T21:04:02.918-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614909842918] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-04T21:04:03.039-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614909836929] [timeMillis: 1614909843039] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-04T21:04:03.077-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=150 _ThreadName=Thread-14] [timeMillis: 1614909843077] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-04T21:04:03.646-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614909843646] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-04T21:04:05.078-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614909845078] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-04T21:04:05.542-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1614909845542] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-04T21:04:06.277-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846277] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-04T21:04:06.278-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846278] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-04T21:04:06.282-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846282] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-04T21:04:06.332-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846332] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-04T21:04:06.430-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846430] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-04T21:04:06.436-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846436] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-04T21:04:06.437-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846437] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-04T21:04:06.456-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846456] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-04T21:04:06.459-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846459] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-04T21:04:06.667-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909846667] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-04T21:04:27.979-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909867979] [levelValue: 800] [[
  Loading application __admingui done in 22784 ms]]

[2021-03-04T21:04:30.165-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909870165] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-04T21:04:30.488-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909870488] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-04T21:04:31.808-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909871808] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-04T21:04:31.878-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909871878] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-04T21:04:31.920-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909871920] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-04T21:04:32.007-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909872007] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-04T21:04:32.048-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-16] [timeMillis: 1614909872048] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-04T21:04:33.221-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873221] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-04T21:04:33.221-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873221] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:04:33.221-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873221] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:04:33.222-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873222] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-04T21:04:33.223-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873223] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:04:33.223-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873223] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-04T21:04:33.223-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873223] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:04:33.223-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873223] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:04:33.224-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873224] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-04T21:04:33.226-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873226] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:04:33.282-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909873282] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-04T21:04:35.803-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909875803] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-04T21:04:36.260-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909876260] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-04T21:04:36.260-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909876260] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-04T21:04:36.291-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909876291] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-04T21:04:36.380-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909876380] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-04T21:04:37.819-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909877819] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:04:37.822-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909877822] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:04:38.245-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909878245] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-04T21:04:44.620-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909884620] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-04T21:04:44.723-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909884723] [levelValue: 800] [[
  Adding user admin]]

[2021-03-04T21:04:44.813-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909884813] [levelValue: 800] [[
  Adding user joe]]

[2021-03-04T21:04:44.823-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909884823] [levelValue: 800] [[
  Adding user jane]]

[2021-03-04T21:04:44.834-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909884834] [levelValue: 800] [[
  Adding user john]]

[2021-03-04T21:04:44.973-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909884973] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-04T21:04:45.054-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909885054] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-04T21:04:45.235-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909885235] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-04T21:04:45.726-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909885726] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-04T21:04:45.916-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1614909885916] [levelValue: 800] [[
  ChatApp was successfully deployed in 17,506 milliseconds.]]

[2021-03-04T21:04:56.846-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.security] [tid: _ThreadID=115 _ThreadName=http-thread-pool::http-listener-1(1)] [timeMillis: 1614909896846] [levelValue: 800] [[
  JACC Policy Provider: Failed Permission Check, context(ChatApp/ChatWebApp-1_0_0_war)- permission(("javax.security.jacc.WebUserDataPermission" "" "GET"))]]

[2021-03-04T21:05:58.350-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=126 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614909958350] [levelValue: 900] [[
  JASPIC: http msg authentication fail
org.glassfish.soteria.identitystores.IdentityStoreConfigurationException: Jndi lookup failed for DataSource java:comp/env/jdbc/cs594
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.getDataSource(DatabaseIdentityStore.java:196)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:109)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:101)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStore$635317201$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.cdi.DefaultIdentityStoreHandler.validate(DefaultIdentityStoreHandler.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStoreHandler$1763020431$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism.validateRequest(CustomFormAuthenticationMechanism.java:78)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.processContainerInitiatedAuthentication(LoginToContinueInterceptor.java:272)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.validateRequest(LoginToContinueInterceptor.java:124)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.intercept(LoginToContinueInterceptor.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:66)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.AutoApplySessionInterceptor.intercept(AutoApplySessionInterceptor.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.authentication.mechanism.http.HttpAuthenticationMechanism$1504808891$Proxy$_$$_WeldClientProxy.validateRequest(Unknown Source)
	at org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule.validateRequest(HttpBridgeServerAuthModule.java:151)
	at org.glassfish.soteria.mechanisms.jaspic.DefaultServerAuthContext.validateRequest(DefaultServerAuthContext.java:76)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:391)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:358)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:181)
	at com.sun.web.security.RealmAdapter.invokeAuthenticateDelegate(RealmAdapter.java:487)
	at org.apache.catalina.connector.Request.authenticate(Request.java:1946)
	at org.apache.catalina.connector.RequestFacade.authenticate(RequestFacade.java:1088)
	at org.glassfish.soteria.mechanisms.jaspic.Jaspic.authenticate(Jaspic.java:111)
	at org.glassfish.soteria.SecurityContextImpl.authenticate(SecurityContextImpl.java:106)
	at edu.stevens.cs594.chat.webapp.LoginBacking.login(LoginBacking.java:118)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-04T21:07:43.084-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910063004] [timeMillis: 1614910063084] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-04T21:07:43.090-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910063004] [timeMillis: 1614910063090] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-04T21:07:43.587-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910063003] [timeMillis: 1614910063587] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-04T21:07:47.987-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910063004] [timeMillis: 1614910067987] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-04T21:07:47.988-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910063004] [timeMillis: 1614910067988] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-04T21:07:47.988-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910063004] [timeMillis: 1614910067988] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-04T21:07:48.098-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910068098] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 5ms - bound to [/0.0.0.0:8080]]]

[2021-03-04T21:07:48.171-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910068171] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-04T21:07:48.181-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910068181] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-04T21:07:48.183-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910068183] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4709ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-04T21:07:48.230-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910063003] [timeMillis: 1614910068230] [levelValue: 800] [[
  Network Listener iiop-service started in: 1ms - bound to [/0.0.0.0:3700]]]

[2021-03-04T21:07:48.330-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910068330] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-04T21:07:50.528-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910070528] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-04T21:07:50.632-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910070632] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-04T21:07:50.885-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910070885] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-04T21:07:50.886-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910070886] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-04T21:07:50.889-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910070889] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-04T21:07:50.942-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910070942] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-04T21:07:51.089-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910071089] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-04T21:07:51.097-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910071097] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-04T21:07:51.098-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910071098] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-04T21:07:51.121-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910071121] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-04T21:07:51.124-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910071124] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-04T21:07:51.246-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910071246] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-04T21:07:53.481-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910073481] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-04T21:07:53.698-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910073698] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-04T21:07:54.993-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910074993] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-04T21:07:55.429-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910075429] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-04T21:07:55.430-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910075430] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-04T21:07:55.502-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910075502] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-04T21:07:56.999-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910076999] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:07:57.002-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077002] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:07:57.356-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077356] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-04T21:07:57.369-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077369] [levelValue: 800] [[
  Loading application ChatApp done in 9355 ms]]

[2021-03-04T21:07:57.507-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077507] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-04T21:07:57.524-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077524] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-04T21:07:57.606-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077606] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-04T21:07:57.674-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077674] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-04T21:07:57.729-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910077729] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-04T21:07:58.877-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078877] [levelValue: 800] [[
  Adding user admin]]

[2021-03-04T21:07:58.967-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078967] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:07:58.975-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078975] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-04T21:07:58.975-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078975] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy256.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-04T21:07:58.978-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078978] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@27c03c68 of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-04T21:07:58.979-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078979] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-04T21:07:58.980-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078980] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:07:58.987-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078987] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:07:58.988-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078988] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@18723cb4)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:07:58.990-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910078990] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-04T21:07:59.019-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910063008] [timeMillis: 1614910079019] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-04T21:07:59.067-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910079067] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2225ms), startup services(16068ms), total(18293ms)]]

[2021-03-04T21:07:59.069-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=160 _ThreadName=Executor-Service-7] [timeMillis: 1614910079069] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 34b40a98-251f-401e-ab5f-472083d3c664 Address: /192.168.1.114:4900
}]]

[2021-03-04T21:07:59.077-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910079077] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-04T21:07:59.081-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910079081] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-04T21:07:59.137-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910079137] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-04T21:07:59.138-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910079138] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-04T21:07:59.159-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910063003] [timeMillis: 1614910079159] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-04T21:07:59.260-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=170 _ThreadName=Thread-23] [timeMillis: 1614910079260] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-04T21:08:00.148-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=123 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910080148] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-04T21:08:00.489-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1614910080489] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-04T21:08:00.838-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=181 _ThreadName=Thread-24] [timeMillis: 1614910080838] [levelValue: 800] [[
  Loading application __admingui done in 609 ms]]

[2021-03-04T21:08:02.015-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=181 _ThreadName=Thread-24] [timeMillis: 1614910082015] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-04T21:08:03.148-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=181 _ThreadName=Thread-24] [timeMillis: 1614910083148] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-04T21:08:07.094-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087094] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-04T21:08:07.266-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087266] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-04T21:08:07.270-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087270] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-04T21:08:07.274-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087274] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-04T21:08:07.282-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087282] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-04T21:08:07.376-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087376] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-04T21:08:07.377-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087377] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:08:07.377-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087377] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:08:07.377-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087377] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-04T21:08:07.378-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087378] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:08:07.378-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087378] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-04T21:08:07.378-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087378] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:08:07.379-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087379] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:08:07.379-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087379] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-04T21:08:07.379-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087379] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:08:07.462-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087462] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-04T21:08:07.542-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087542] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-04T21:08:07.542-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087542] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-04T21:08:07.605-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910087605] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-04T21:08:08.078-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910088078] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:08:08.078-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910088078] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:08:08.200-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910088200] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-04T21:08:30.649-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910110649] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-04T21:08:30.690-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910110690] [levelValue: 800] [[
  Adding user admin]]

[2021-03-04T21:08:30.722-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910110722] [levelValue: 800] [[
  Adding user joe]]

[2021-03-04T21:08:30.732-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910110732] [levelValue: 800] [[
  Adding user jane]]

[2021-03-04T21:08:30.742-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910110742] [levelValue: 800] [[
  Adding user john]]

[2021-03-04T21:08:30.935-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910110935] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-04T21:08:30.988-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910110988] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-04T21:08:31.216-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910111216] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-04T21:08:31.689-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910111689] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-04T21:08:31.918-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910111918] [levelValue: 800] [[
  ChatApp was successfully deployed in 26,396 milliseconds.]]

[2021-03-04T21:09:02.194-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910142194] [levelValue: 900] [[
  JASPIC: http msg authentication fail
org.glassfish.soteria.identitystores.IdentityStoreConfigurationException: Jndi lookup failed for DataSource java:jdbc/cs594
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.getDataSource(DatabaseIdentityStore.java:196)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:109)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:101)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStore$635317201$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.cdi.DefaultIdentityStoreHandler.validate(DefaultIdentityStoreHandler.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStoreHandler$1763020431$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism.validateRequest(CustomFormAuthenticationMechanism.java:78)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.processContainerInitiatedAuthentication(LoginToContinueInterceptor.java:272)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.validateRequest(LoginToContinueInterceptor.java:124)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.intercept(LoginToContinueInterceptor.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:66)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.AutoApplySessionInterceptor.intercept(AutoApplySessionInterceptor.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.authentication.mechanism.http.HttpAuthenticationMechanism$1504808891$Proxy$_$$_WeldClientProxy.validateRequest(Unknown Source)
	at org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule.validateRequest(HttpBridgeServerAuthModule.java:151)
	at org.glassfish.soteria.mechanisms.jaspic.DefaultServerAuthContext.validateRequest(DefaultServerAuthContext.java:76)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:391)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:358)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:181)
	at com.sun.web.security.RealmAdapter.invokeAuthenticateDelegate(RealmAdapter.java:487)
	at org.apache.catalina.connector.Request.authenticate(Request.java:1946)
	at org.apache.catalina.connector.RequestFacade.authenticate(RequestFacade.java:1088)
	at org.glassfish.soteria.mechanisms.jaspic.Jaspic.authenticate(Jaspic.java:111)
	at org.glassfish.soteria.SecurityContextImpl.authenticate(SecurityContextImpl.java:106)
	at edu.stevens.cs594.chat.webapp.LoginBacking.login(LoginBacking.java:118)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-04T21:09:36.873-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910176873] [levelValue: 800] [[
  Result of authentication: NOT_DONE]]

[2021-03-04T21:09:36.873-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910176873] [levelValue: 800] [[
  Principal: joe]]

[2021-03-04T21:09:36.874-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910176874] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-04T21:09:36.874-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910176874] [levelValue: 900] [[
  JASPIC: http msg authentication fail
org.glassfish.soteria.identitystores.IdentityStoreConfigurationException: Jndi lookup failed for DataSource java:jdbc/cs594
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.getDataSource(DatabaseIdentityStore.java:196)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:109)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:101)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStore$635317201$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.cdi.DefaultIdentityStoreHandler.validate(DefaultIdentityStoreHandler.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStoreHandler$1763020431$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism.validateRequest(CustomFormAuthenticationMechanism.java:78)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.processContainerInitiatedAuthentication(LoginToContinueInterceptor.java:272)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.validateRequest(LoginToContinueInterceptor.java:124)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.intercept(LoginToContinueInterceptor.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:66)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.AutoApplySessionInterceptor.intercept(AutoApplySessionInterceptor.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.authentication.mechanism.http.HttpAuthenticationMechanism$1504808891$Proxy$_$$_WeldClientProxy.validateRequest(Unknown Source)
	at org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule.validateRequest(HttpBridgeServerAuthModule.java:151)
	at org.glassfish.soteria.mechanisms.jaspic.DefaultServerAuthContext.validateRequest(DefaultServerAuthContext.java:76)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:391)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:358)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:181)
	at com.sun.web.security.RealmAdapter.invokeAuthenticateDelegate(RealmAdapter.java:487)
	at org.apache.catalina.connector.Request.authenticate(Request.java:1946)
	at org.apache.catalina.connector.RequestFacade.authenticate(RequestFacade.java:1088)
	at org.glassfish.soteria.mechanisms.jaspic.Jaspic.authenticate(Jaspic.java:111)
	at org.glassfish.soteria.SecurityContextImpl.authenticate(SecurityContextImpl.java:106)
	at edu.stevens.cs594.chat.webapp.LoginBacking.login(LoginBacking.java:118)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-04T21:09:36.876-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910176876] [levelValue: 800] [[
  Result of authentication: NOT_DONE]]

[2021-03-04T21:09:36.876-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910176876] [levelValue: 800] [[
  Principal: joe]]

[2021-03-04T21:09:36.876-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910176876] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-04T21:10:06.953-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910206953] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-04T21:10:06.958-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910206958] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-04T21:10:07.448-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910207448] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-04T21:10:11.837-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910206854] [timeMillis: 1614910211837] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-04T21:10:11.837-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910206854] [timeMillis: 1614910211837] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-04T21:10:11.837-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910206854] [timeMillis: 1614910211837] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-04T21:10:11.988-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910206848] [timeMillis: 1614910211988] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 7ms - bound to [/0.0.0.0:8080]]]

[2021-03-04T21:10:12.023-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910206854] [timeMillis: 1614910212023] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-04T21:10:12.039-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910206848] [timeMillis: 1614910212039] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-04T21:10:12.051-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910206848] [timeMillis: 1614910212051] [levelValue: 800] [[
  Network Listener admin-listener started in: 4ms - bound to [/0.0.0.0:4848]]]

[2021-03-04T21:10:12.052-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910206848] [timeMillis: 1614910212052] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4698ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-04T21:10:12.094-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910206848] [timeMillis: 1614910212094] [levelValue: 800] [[
  Network Listener iiop-service started in: 3ms - bound to [/0.0.0.0:3700]]]

[2021-03-04T21:10:14.289-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214289] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-04T21:10:14.391-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214391] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-04T21:10:14.657-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214657] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-04T21:10:14.657-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214657] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-04T21:10:14.660-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214660] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-04T21:10:14.699-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214699] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-04T21:10:14.850-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214850] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-04T21:10:14.857-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214857] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-04T21:10:14.858-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214858] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-04T21:10:14.879-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214879] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-04T21:10:14.882-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910214882] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-04T21:10:15.007-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910215007] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-04T21:10:17.347-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910217347] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-04T21:10:18.733-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910218733] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-04T21:10:19.168-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910219168] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-04T21:10:19.168-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910219168] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-04T21:10:19.220-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910219220] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-04T21:10:19.298-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910219298] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-04T21:10:20.652-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910220652] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:10:20.655-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910220655] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:10:21.091-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910221091] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-04T21:10:21.105-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910221105] [levelValue: 800] [[
  Loading application ChatApp done in 9230 ms]]

[2021-03-04T21:10:21.207-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910221207] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-04T21:10:21.224-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910221224] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-04T21:10:21.326-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910221326] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-04T21:10:21.360-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910221360] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-04T21:10:21.409-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910221409] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-04T21:10:22.456-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222456] [levelValue: 800] [[
  Adding user admin]]

[2021-03-04T21:10:22.544-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222544] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:10:22.551-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222551] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-04T21:10:22.551-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222551] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-04T21:10:22.553-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222553] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@4b62074b of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-04T21:10:22.555-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222555] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-04T21:10:22.555-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222555] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:10:22.563-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222563] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:10:22.564-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222564] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7b65d913)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:10:22.568-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222568] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-04T21:10:22.599-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910206849] [timeMillis: 1614910222599] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-04T21:10:22.655-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910222655] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2170ms), startup services(15811ms), total(17981ms)]]

[2021-03-04T21:10:22.657-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=154 _ThreadName=Executor-Service-1] [timeMillis: 1614910222657] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 32082cc0-9941-4bd5-bb72-50999e0e86bd Address: /192.168.1.114:4900
}]]

[2021-03-04T21:10:22.666-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910222666] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-04T21:10:22.672-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910222672] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-04T21:10:22.701-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910222701] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-04T21:10:22.702-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910222702] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-04T21:10:22.724-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910206854] [timeMillis: 1614910222724] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-04T21:10:22.874-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=169 _ThreadName=Thread-23] [timeMillis: 1614910222874] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-04T21:10:24.052-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=141 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910224052] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-04T21:10:25.407-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1614910225407] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-04T21:10:25.566-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1614910225566] [levelValue: 800] [[
  Loading application __admingui done in 1410 ms]]

[2021-03-04T21:10:26.243-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226243] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-04T21:10:26.410-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226410] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-04T21:10:26.415-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226415] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-04T21:10:26.419-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226419] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-04T21:10:26.429-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226429] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-04T21:10:26.542-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226542] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-04T21:10:26.543-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226543] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:10:26.543-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226543] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:10:26.544-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226544] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-04T21:10:26.545-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226545] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:10:26.545-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226545] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-04T21:10:26.545-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226545] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:10:26.546-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226546] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:10:26.546-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226546] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-04T21:10:26.547-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226547] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:10:26.741-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226741] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-04T21:10:26.741-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226741] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-04T21:10:26.754-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226754] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-04T21:10:26.872-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910226872] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-04T21:10:27.357-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910227357] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:10:27.358-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910227358] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:10:27.491-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910227491] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-04T21:10:27.497-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1614910227497] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-04T21:10:28.909-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1614910228909] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-04T21:10:31.464-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910231464] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-04T21:10:31.571-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910231571] [levelValue: 800] [[
  Adding user admin]]

[2021-03-04T21:10:31.623-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910231623] [levelValue: 800] [[
  Adding user joe]]

[2021-03-04T21:10:31.640-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910231640] [levelValue: 800] [[
  Adding user jane]]

[2021-03-04T21:10:31.656-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910231656] [levelValue: 800] [[
  Adding user john]]

[2021-03-04T21:10:31.873-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910231873] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-04T21:10:31.923-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910231923] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-04T21:10:32.204-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910232204] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-04T21:10:32.639-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910232639] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-04T21:10:32.810-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910232810] [levelValue: 800] [[
  ChatApp was successfully deployed in 8,597 milliseconds.]]

[2021-03-04T21:11:15.172-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910275172] [levelValue: 800] [[
  Result of authentication: SEND_FAILURE]]

[2021-03-04T21:11:16.167-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910276167] [levelValue: 800] [[
  Failed to authenticate joe with password f]]

[2021-03-04T21:11:28.533-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910288533] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-04T21:11:41.365-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910301365] [levelValue: 800] [[
  Result of authentication: SEND_FAILURE]]

[2021-03-04T21:11:41.366-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910301366] [levelValue: 800] [[
  Failed to authenticate joe with password f]]

[2021-03-04T21:12:02.167-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910322167] [levelValue: 900] [[
  JASPIC: http msg authentication fail
org.glassfish.soteria.identitystores.IdentityStoreConfigurationException: ERROR: relation "groups" does not exist
  Position: 23
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.executeQuery(DatabaseIdentityStore.java:163)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:124)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:101)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStore$635317201$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.cdi.DefaultIdentityStoreHandler.validate(DefaultIdentityStoreHandler.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStoreHandler$1763020431$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism.validateRequest(CustomFormAuthenticationMechanism.java:78)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.processContainerInitiatedAuthentication(LoginToContinueInterceptor.java:272)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.validateRequest(LoginToContinueInterceptor.java:124)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.intercept(LoginToContinueInterceptor.java:102)
	at sun.reflect.GeneratedMethodAccessor271.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:66)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.AutoApplySessionInterceptor.intercept(AutoApplySessionInterceptor.java:88)
	at sun.reflect.GeneratedMethodAccessor270.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.authentication.mechanism.http.HttpAuthenticationMechanism$1504808891$Proxy$_$$_WeldClientProxy.validateRequest(Unknown Source)
	at org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule.validateRequest(HttpBridgeServerAuthModule.java:151)
	at org.glassfish.soteria.mechanisms.jaspic.DefaultServerAuthContext.validateRequest(DefaultServerAuthContext.java:76)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:391)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:358)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:181)
	at com.sun.web.security.RealmAdapter.invokeAuthenticateDelegate(RealmAdapter.java:487)
	at org.apache.catalina.connector.Request.authenticate(Request.java:1946)
	at org.apache.catalina.connector.RequestFacade.authenticate(RequestFacade.java:1088)
	at org.glassfish.soteria.mechanisms.jaspic.Jaspic.authenticate(Jaspic.java:111)
	at org.glassfish.soteria.SecurityContextImpl.authenticate(SecurityContextImpl.java:106)
	at edu.stevens.cs594.chat.webapp.LoginBacking.login(LoginBacking.java:118)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "groups" does not exist
  Position: 23
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)
	at sun.reflect.GeneratedMethodAccessor184.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeQuery(Unknown Source)
	at com.sun.gjc.spi.jdbc40.PreparedStatementWrapper40.executeQuery(PreparedStatementWrapper40.java:658)
	at sun.reflect.GeneratedMethodAccessor184.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeQuery(Unknown Source)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.executeQuery(DatabaseIdentityStore.java:156)
	... 95 more
]]

[2021-03-04T21:13:27.949-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910407949] [levelValue: 800] [[
  Result of authentication: NOT_DONE]]

[2021-03-04T21:13:27.950-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910407950] [levelValue: 800] [[
  Principal: joe]]

[2021-03-04T21:13:27.950-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910407950] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-04T21:13:27.966-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910407966] [levelValue: 900] [[
  JASPIC: http msg authentication fail
org.glassfish.soteria.identitystores.IdentityStoreConfigurationException: ERROR: relation "groups" does not exist
  Position: 23
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.executeQuery(DatabaseIdentityStore.java:163)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:124)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.validate(DatabaseIdentityStore.java:101)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStore$635317201$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.cdi.DefaultIdentityStoreHandler.validate(DefaultIdentityStoreHandler.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.identitystore.IdentityStoreHandler$1763020431$Proxy$_$$_WeldClientProxy.validate(Unknown Source)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism.validateRequest(CustomFormAuthenticationMechanism.java:78)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.processContainerInitiatedAuthentication(LoginToContinueInterceptor.java:272)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.validateRequest(LoginToContinueInterceptor.java:124)
	at org.glassfish.soteria.cdi.LoginToContinueInterceptor.intercept(LoginToContinueInterceptor.java:102)
	at sun.reflect.GeneratedMethodAccessor271.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.NonTerminalAroundInvokeInvocationContext.proceedInternal(NonTerminalAroundInvokeInvocationContext.java:66)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at org.glassfish.soteria.cdi.AutoApplySessionInterceptor.intercept(AutoApplySessionInterceptor.java:88)
	at sun.reflect.GeneratedMethodAccessor270.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at org.glassfish.soteria.mechanisms.CustomFormAuthenticationMechanism$Proxy$_$$_WeldSubclass.validateRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at org.jboss.weldx.security.enterprise.authentication.mechanism.http.HttpAuthenticationMechanism$1504808891$Proxy$_$$_WeldClientProxy.validateRequest(Unknown Source)
	at org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule.validateRequest(HttpBridgeServerAuthModule.java:151)
	at org.glassfish.soteria.mechanisms.jaspic.DefaultServerAuthContext.validateRequest(DefaultServerAuthContext.java:76)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:391)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:358)
	at com.sun.web.security.realmadapter.JaspicRealm.validateRequest(JaspicRealm.java:181)
	at com.sun.web.security.RealmAdapter.invokeAuthenticateDelegate(RealmAdapter.java:487)
	at org.apache.catalina.connector.Request.authenticate(Request.java:1946)
	at org.apache.catalina.connector.RequestFacade.authenticate(RequestFacade.java:1088)
	at org.glassfish.soteria.mechanisms.jaspic.Jaspic.authenticate(Jaspic.java:111)
	at org.glassfish.soteria.SecurityContextImpl.authenticate(SecurityContextImpl.java:106)
	at edu.stevens.cs594.chat.webapp.LoginBacking.login(LoginBacking.java:118)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "groups" does not exist
  Position: 23
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)
	at sun.reflect.GeneratedMethodAccessor184.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeQuery(Unknown Source)
	at com.sun.gjc.spi.jdbc40.PreparedStatementWrapper40.executeQuery(PreparedStatementWrapper40.java:658)
	at sun.reflect.GeneratedMethodAccessor184.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeQuery(Unknown Source)
	at org.glassfish.soteria.identitystores.DatabaseIdentityStore.executeQuery(DatabaseIdentityStore.java:156)
	... 95 more
]]

[2021-03-04T21:13:27.968-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910407968] [levelValue: 800] [[
  Result of authentication: NOT_DONE]]

[2021-03-04T21:13:27.968-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910407968] [levelValue: 800] [[
  Principal: joe]]

[2021-03-04T21:13:27.968-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1614910407968] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-04T21:13:52.737-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910432662] [timeMillis: 1614910432737] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-04T21:13:52.743-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910432662] [timeMillis: 1614910432743] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-04T21:13:53.214-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910432666] [timeMillis: 1614910433214] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-04T21:13:57.531-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910432662] [timeMillis: 1614910437531] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-04T21:13:57.531-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910432662] [timeMillis: 1614910437531] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-04T21:13:57.532-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910432662] [timeMillis: 1614910437532] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-04T21:13:57.689-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910432667] [timeMillis: 1614910437689] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 8ms - bound to [/0.0.0.0:8080]]]

[2021-03-04T21:13:57.714-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1614910432662] [timeMillis: 1614910437714] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-04T21:13:57.734-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910432667] [timeMillis: 1614910437734] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-04T21:13:57.745-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910432667] [timeMillis: 1614910437745] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-04T21:13:57.747-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910432667] [timeMillis: 1614910437747] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4627ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-04T21:13:57.787-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1614910432667] [timeMillis: 1614910437787] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-04T21:14:00.159-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440159] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-04T21:14:00.284-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440284] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-04T21:14:00.546-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440546] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-04T21:14:00.546-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440546] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-04T21:14:00.550-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440550] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-04T21:14:00.589-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440589] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-04T21:14:00.743-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440743] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-04T21:14:00.751-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440751] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-04T21:14:00.753-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440753] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-04T21:14:00.775-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440775] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-04T21:14:00.778-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440778] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-04T21:14:00.911-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910440911] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-04T21:14:03.211-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910443211] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-04T21:14:04.564-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910444564] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-04T21:14:05.015-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910445015] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-04T21:14:05.016-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910445016] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-04T21:14:05.057-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910445057] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-04T21:14:05.141-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910445141] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-04T21:14:06.622-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910446622] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:14:06.625-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910446625] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:14:07.011-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910447011] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-04T21:14:07.026-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910447026] [levelValue: 800] [[
  Loading application ChatApp done in 9459 ms]]

[2021-03-04T21:14:07.126-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910447126] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-04T21:14:07.143-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910447143] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-04T21:14:07.264-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910447264] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-04T21:14:07.280-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910447280] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-04T21:14:07.330-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910447330] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-04T21:14:08.307-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448307] [levelValue: 800] [[
  Adding user admin]]

[2021-03-04T21:14:08.406-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448406] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:14:08.412-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448412] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-04T21:14:08.413-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448413] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-04T21:14:08.415-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448415] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@2ca43a3d of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-04T21:14:08.416-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448416] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-04T21:14:08.417-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448417] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:14:08.422-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448422] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:14:08.424-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448424] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2491371b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-04T21:14:08.425-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448425] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-04T21:14:08.452-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1614910432661] [timeMillis: 1614910448452] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-04T21:14:08.501-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910448501] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2116ms), startup services(15845ms), total(17961ms)]]

[2021-03-04T21:14:08.501-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=155 _ThreadName=Executor-Service-2] [timeMillis: 1614910448501] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 6d1080e8-7fa0-40d9-8fab-16e9216c0b8a Address: /192.168.1.114:4900
}]]

[2021-03-04T21:14:08.510-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910448510] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-04T21:14:08.515-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910448515] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-04T21:14:08.541-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910448541] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-04T21:14:08.542-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1614910448542] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-04T21:14:08.566-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1614910432666] [timeMillis: 1614910448566] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-04T21:14:08.704-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=169 _ThreadName=Thread-23] [timeMillis: 1614910448704] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-04T21:14:09.723-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=140 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1614910449723] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-04T21:14:11.150-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1614910451150] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-04T21:14:11.322-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1614910451322] [levelValue: 800] [[
  Loading application __admingui done in 1499 ms]]

[2021-03-04T21:14:11.946-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910451946] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-04T21:14:12.093-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452093] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-04T21:14:12.098-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452098] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-04T21:14:12.103-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452103] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-04T21:14:12.113-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452113] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-04T21:14:12.228-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452228] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-04T21:14:12.229-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452229] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:14:12.229-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452229] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:14:12.230-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452230] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-04T21:14:12.231-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452231] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:14:12.231-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452231] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-04T21:14:12.232-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452232] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-04T21:14:12.232-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452232] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-04T21:14:12.232-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452232] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-04T21:14:12.233-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452233] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-04T21:14:12.450-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452450] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-04T21:14:12.450-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452450] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-04T21:14:12.462-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452462] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-04T21:14:12.523-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910452523] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-04T21:14:13.043-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910453043] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:14:13.044-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910453044] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-04T21:14:13.201-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1614910453201] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-04T21:14:13.205-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910453205] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-04T21:14:14.612-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1614910454612] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-04T21:14:20.900-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910460900] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-04T21:14:20.949-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910460949] [levelValue: 800] [[
  Adding user admin]]

[2021-03-04T21:14:20.991-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910460991] [levelValue: 800] [[
  Adding user joe]]

[2021-03-04T21:14:21.003-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910461003] [levelValue: 800] [[
  Adding user jane]]

[2021-03-04T21:14:21.015-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910461015] [levelValue: 800] [[
  Adding user john]]

[2021-03-04T21:14:21.295-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910461295] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-04T21:14:21.345-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910461345] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-04T21:14:21.474-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910461474] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-04T21:14:21.914-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910461914] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-04T21:14:22.110-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=124 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1614910462110] [levelValue: 800] [[
  ChatApp was successfully deployed in 12,200 milliseconds.]]

[2021-03-04T21:15:18.306-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910518306] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-04T21:15:22.159-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910522159] [levelValue: 800] [[
  Principal: joe]]

[2021-03-04T21:15:28.601-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910528601] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-04T21:15:29.517-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910529517] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
javax.faces.application.ViewExpiredException: viewId:/login.xhtml - View /login.xhtml could not be restored.
	at com.sun.faces.lifecycle.RestoreViewPhase.execute(RestoreViewPhase.java:195)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:110)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-04T21:16:08.454-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1614910568454] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-04T21:16:50.493-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910610493] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-04T21:16:50.493-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910610493] [levelValue: 800] [[
  Principal: joe]]

[2021-03-04T21:16:50.494-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1614910610494] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T10:38:25.226-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045105135] [timeMillis: 1615045105226] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T10:38:25.231-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045105135] [timeMillis: 1615045105231] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T10:38:25.783-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045105135] [timeMillis: 1615045105783] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T10:38:30.203-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110203] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T10:38:30.203-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110203] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T10:38:30.204-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110204] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T10:38:30.467-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110467] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 69ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T10:38:30.481-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110481] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T10:38:30.572-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110572] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 9ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T10:38:30.591-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110591] [levelValue: 800] [[
  Network Listener admin-listener started in: 6ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T10:38:30.594-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045110594] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4944ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T10:38:31.011-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045111011] [levelValue: 800] [[
  Network Listener iiop-service started in: 5ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T10:38:33.491-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045113491] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T10:38:33.616-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045113616] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T10:38:33.926-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045113926] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T10:38:33.927-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045113927] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T10:38:33.931-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045113931] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T10:38:33.972-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045113972] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T10:38:34.126-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045114126] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T10:38:34.134-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045114134] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T10:38:34.135-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045114135] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T10:38:34.158-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045114158] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T10:38:34.161-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045114161] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T10:38:34.309-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045114309] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T10:38:36.900-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045116900] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T10:38:37.107-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045117107] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T10:38:38.482-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045118482] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T10:38:38.990-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045118990] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T10:38:38.990-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045118990] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T10:38:39.072-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045119072] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T10:38:40.613-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045120613] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:38:40.615-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045120615] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:38:41.049-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045121049] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T10:38:41.065-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045121065] [levelValue: 800] [[
  Loading application ChatApp done in 10827 ms]]

[2021-03-06T10:38:41.198-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045121198] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T10:38:41.216-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045121216] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T10:38:41.294-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045121294] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T10:38:41.376-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045121376] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T10:38:41.432-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045121432] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T10:38:42.543-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122543] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T10:38:42.640-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122640] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:38:42.646-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122646] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T10:38:42.647-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122647] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy256.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T10:38:42.651-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122651] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@7bf1fe1e of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T10:38:42.653-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122653] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T10:38:42.653-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122653] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:38:42.673-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122673] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:38:42.676-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122676] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@16bdfe15)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:38:42.678-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122678] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T10:38:42.717-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045105133] [timeMillis: 1615045122717] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T10:38:42.774-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045122774] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2513ms), startup services(17645ms), total(20158ms)]]

[2021-03-06T10:38:42.777-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=156 _ThreadName=Executor-Service-3] [timeMillis: 1615045122777] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 9546c342-977e-4bc5-b193-13e874f36d93 Address: /192.168.1.114:4900
}]]

[2021-03-06T10:38:42.785-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045122785] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T10:38:42.789-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045122789] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T10:38:42.862-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045122862] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T10:38:42.863-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045122863] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T10:38:42.883-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045105139] [timeMillis: 1615045122883] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 1ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T10:38:42.999-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=170 _ThreadName=Thread-23] [timeMillis: 1615045122999] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T10:38:43.123-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615045123123] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T10:38:50.103-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130103] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T10:38:50.286-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130286] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T10:38:50.291-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130291] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T10:38:50.296-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130296] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T10:38:50.306-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130306] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T10:38:50.412-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130412] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T10:38:50.412-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130412] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T10:38:50.413-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130413] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T10:38:50.413-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130413] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T10:38:50.415-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130415] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T10:38:50.415-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130415] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T10:38:50.415-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130415] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T10:38:50.415-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130415] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T10:38:50.415-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130415] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T10:38:50.416-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130416] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T10:38:50.622-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130622] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T10:38:50.623-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130623] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T10:38:50.633-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130633] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T10:38:50.705-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045130705] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T10:38:51.245-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045131245] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:38:51.246-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045131246] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:38:51.399-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=151 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045131399] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T10:44:28.009-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=252 _ThreadName=Thread-38] [timeMillis: 1615045468009] [levelValue: 800] [[
  Loading application __admingui done in 621 ms]]

[2021-03-06T10:44:28.954-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045468954] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T10:44:29.927-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=252 _ThreadName=Thread-38] [timeMillis: 1615045469927] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T10:44:31.249-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=252 _ThreadName=Thread-38] [timeMillis: 1615045471249] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T10:44:31.676-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045471676] [levelValue: 800] [[
  Context path from ServletContext:  differs from path from bundle: /]]

[2021-03-06T10:44:34.942-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=240 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1615045474942] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/button/secondary-roll.gif) is not available.]]

[2021-03-06T10:44:34.948-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=274 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615045474948] [levelValue: 800] [[
  Redirecting to /common/index.jsf]]

[2021-03-06T10:44:34.953-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=272 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1615045474953] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/button/secondary-mini-enabled.gif) is not available.]]

[2021-03-06T10:44:34.962-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=273 _ThreadName=admin-thread-pool::admin-listener(5)] [timeMillis: 1615045474962] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/button/secondary-mini-roll.gif) is not available.]]

[2021-03-06T10:44:34.972-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=274 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615045474972] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/leftpane/left_pane_grad.jpg) is not available.]]

[2021-03-06T10:44:34.972-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=277 _ThreadName=admin-thread-pool::admin-listener(9)] [timeMillis: 1615045474972] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/help/help_btnnav_gradient.jpg) is not available.]]

[2021-03-06T10:44:34.972-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=275 _ThreadName=admin-thread-pool::admin-listener(7)] [timeMillis: 1615045474972] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/button/secondary-enabled.gif) is not available.]]

[2021-03-06T10:44:34.983-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=276 _ThreadName=admin-thread-pool::admin-listener(8)] [timeMillis: 1615045474983] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/button/primary-mini-roll.gif) is not available.]]

[2021-03-06T10:44:34.983-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=272 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1615045474983] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/masthead/masthead-sun-background.jpg) is not available.]]

[2021-03-06T10:44:34.993-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=273 _ThreadName=admin-thread-pool::admin-listener(5)] [timeMillis: 1615045474993] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/masthead/masthead-background.jpg) is not available.]]

[2021-03-06T10:44:34.993-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=274 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615045474993] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/masthead/sec-masthead-background.jpg) is not available.]]

[2021-03-06T10:44:34.994-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=275 _ThreadName=admin-thread-pool::admin-listener(7)] [timeMillis: 1615045474994] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/masthead/masthead_link_enabled.gif) is not available.]]

[2021-03-06T10:44:34.995-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045474995] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/button/primary-mini-enabled.gif) is not available.]]

[2021-03-06T10:44:35.005-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=272 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1615045475005] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/datetime/date_time_gradient.jpg) is not available.]]

[2021-03-06T10:44:35.009-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=277 _ThreadName=admin-thread-pool::admin-listener(9)] [timeMillis: 1615045475009] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/masthead/masthead_link_roll.gif) is not available.]]

[2021-03-06T10:44:35.021-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=276 _ThreadName=admin-thread-pool::admin-listener(8)] [timeMillis: 1615045475021] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/table/gradtblttl.jpg) is not available.]]

[2021-03-06T10:44:35.021-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=274 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615045475021] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/table/gradtblhdrsrt.gif) is not available.]]

[2021-03-06T10:44:35.023-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=273 _ThreadName=admin-thread-pool::admin-listener(5)] [timeMillis: 1615045475023] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/table/gradtblhdr.gif) is not available.]]

[2021-03-06T10:44:35.023-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=275 _ThreadName=admin-thread-pool::admin-listener(7)] [timeMillis: 1615045475023] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level1_background.jpg) is not available.]]

[2021-03-06T10:44:35.028-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045475028] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level1_deselect.jpg) is not available.]]

[2021-03-06T10:44:35.030-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=272 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1615045475030] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level1_selected-1lev.jpg) is not available.]]

[2021-03-06T10:44:35.044-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=274 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615045475044] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level2_deselect.jpg) is not available.]]

[2021-03-06T10:44:35.045-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=276 _ThreadName=admin-thread-pool::admin-listener(8)] [timeMillis: 1615045475045] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level2_background.jpg) is not available.]]

[2021-03-06T10:44:35.046-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=275 _ThreadName=admin-thread-pool::admin-listener(7)] [timeMillis: 1615045475046] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level1_selected.jpg) is not available.]]

[2021-03-06T10:44:35.047-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=277 _ThreadName=admin-thread-pool::admin-listener(9)] [timeMillis: 1615045475047] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level3_selected.jpg) is not available.]]

[2021-03-06T10:44:35.068-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=273 _ThreadName=admin-thread-pool::admin-listener(5)] [timeMillis: 1615045475068] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level2_selected.jpg) is not available.]]

[2021-03-06T10:44:35.068-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=276 _ThreadName=admin-thread-pool::admin-listener(8)] [timeMillis: 1615045475068] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/minitab_selected.jpg) is not available.]]

[2021-03-06T10:44:35.072-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045475072] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/level3_background.gif) is not available.]]

[2021-03-06T10:44:35.072-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=272 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1615045475072] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/minitab_background.jpg) is not available.]]

[2021-03-06T10:44:35.075-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=275 _ThreadName=admin-thread-pool::admin-listener(7)] [timeMillis: 1615045475075] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/version/version_brand.jpg) is not available.]]

[2021-03-06T10:44:35.074-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=274 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615045475074] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/tabs/minitab_deselect.jpg) is not available.]]

[2021-03-06T10:44:35.088-0500] [Payara 5.2021.1] [INFO] [] [com.sun.jsftemplating] [tid: _ThreadID=277 _ThreadName=admin-thread-pool::admin-listener(9)] [timeMillis: 1615045475088] [levelValue: 800] [[
  JSFT0004: The requested resource (/images/wizard/wizbdy_minitab_background.jpg) is not available.]]

[2021-03-06T10:44:35.181-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=240 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1615045475181] [levelValue: 800] [[
  Admin Console: Initializing Session Attributes...]]

[2021-03-06T10:46:34.450-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045594360] [timeMillis: 1615045594450] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T10:46:34.456-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045594360] [timeMillis: 1615045594456] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T10:46:34.908-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045594360] [timeMillis: 1615045594908] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T10:46:39.352-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045594366] [timeMillis: 1615045599352] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T10:46:39.353-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045594366] [timeMillis: 1615045599353] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T10:46:39.353-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045594366] [timeMillis: 1615045599353] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T10:46:39.520-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045594365] [timeMillis: 1615045599520] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 27ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T10:46:39.538-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045594366] [timeMillis: 1615045599538] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T10:46:39.559-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045594365] [timeMillis: 1615045599559] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T10:46:39.569-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045594365] [timeMillis: 1615045599569] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T10:46:39.571-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045594365] [timeMillis: 1615045599571] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4727ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T10:46:39.615-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045594359] [timeMillis: 1615045599615] [levelValue: 800] [[
  Network Listener iiop-service started in: 1ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T10:46:40.180-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045600180] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2403ms), startup services(5825ms), total(8228ms)]]

[2021-03-06T10:46:40.181-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=114 _ThreadName=Executor-Service-5] [timeMillis: 1615045600181] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: ff3e6241-5201-418f-bf2f-573e781e6572 Address: /192.168.1.114:4900
}]]

[2021-03-06T10:46:40.191-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045600191] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T10:46:40.196-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045600196] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T10:46:40.218-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045600218] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T10:46:40.218-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045600218] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T10:46:40.344-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045594365] [timeMillis: 1615045600344] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T10:46:40.449-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=149 _ThreadName=Thread-13] [timeMillis: 1615045600449] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T10:46:41.101-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045601101] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T10:46:42.491-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045602491] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T10:46:42.921-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615045602921] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T10:46:43.582-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603582] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T10:46:43.582-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603582] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T10:46:43.585-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603585] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T10:46:43.667-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603667] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T10:46:43.777-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603777] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T10:46:43.785-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603785] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T10:46:43.786-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603786] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T10:46:43.807-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603807] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T10:46:43.810-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603810] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T10:46:43.992-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045603992] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T10:47:04.404-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045624404] [levelValue: 800] [[
  Loading application __admingui done in 21803 ms]]

[2021-03-06T10:47:06.144-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045626144] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T10:47:07.298-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=163 _ThreadName=Thread-15] [timeMillis: 1615045627298] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T10:47:43.901-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=161 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045663901] [levelValue: 800] [[
  Context path from ServletContext:  differs from path from bundle: /]]

[2021-03-06T10:47:46.703-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=201 _ThreadName=admin-thread-pool::admin-listener(5)] [timeMillis: 1615045666703] [levelValue: 800] [[
  Redirecting to /common/index.jsf]]

[2021-03-06T10:47:46.896-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=199 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1615045666896] [levelValue: 800] [[
  Admin Console: Initializing Session Attributes...]]

[2021-03-06T10:48:24.411-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=202 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615045704411] [levelValue: 800] [[
  =======stopInstance Called...]]

[2021-03-06T10:48:24.430-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00092] [javax.enterprise.system.core] [tid: _ThreadID=205 _ThreadName=Thread-31] [timeMillis: 1615045704430] [levelValue: 800] [[
  Server shutdown initiated]]

[2021-03-06T10:48:24.444-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=205 _ThreadName=Thread-31] [timeMillis: 1615045704444] [levelValue: 800] [[
  FileMonitoring shutdown]]

[2021-03-06T10:48:24.459-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00002] [javax.enterprise.system.jmx] [tid: _ThreadID=205 _ThreadName=Thread-31] [timeMillis: 1615045704459] [levelValue: 800] [[
  JMXStartupService: Stopped JMXConnectorServer: null]]

[2021-03-06T10:48:24.460-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00001] [javax.enterprise.system.jmx] [tid: _ThreadID=205 _ThreadName=Thread-31] [timeMillis: 1615045704460] [levelValue: 800] [[
  JMXStartupService and JMXConnectors have been shut down.]]

[2021-03-06T10:48:24.617-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045704525] [timeMillis: 1615045704617] [levelValue: 800] [[
  Hazelcast Instance Unbound from JNDI at payara/Hazelcast]]

[2021-03-06T10:48:24.617-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045704525] [timeMillis: 1615045704617] [levelValue: 800] [[
  JSR107 Caching Provider Unbound from JNDI at payara/CachingProvider]]

[2021-03-06T10:48:24.618-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045704525] [timeMillis: 1615045704618] [levelValue: 800] [[
  JSR107 Cache Manager Unbound from JNDI at payara/CacheManager]]

[2021-03-06T10:48:24.662-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045704525] [timeMillis: 1615045704662] [levelValue: 800] [[
  Shutdown Hazelcast]]

[2021-03-06T10:48:24.683-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=214 _ThreadName=RunLevelControllerThread-1615045704526] [timeMillis: 1615045704683] [levelValue: 800] [[
  JdbcRuntimeExtension,  getAllSystemRAResourcesAndPools = [GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource]]]

[2021-03-06T10:49:28.644-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045768528] [timeMillis: 1615045768644] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T10:49:28.650-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045768528] [timeMillis: 1615045768650] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T10:49:29.116-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045768534] [timeMillis: 1615045769116] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T10:49:33.555-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045768527] [timeMillis: 1615045773555] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T10:49:33.555-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045768527] [timeMillis: 1615045773555] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T10:49:33.556-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045768527] [timeMillis: 1615045773556] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T10:49:33.693-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045768534] [timeMillis: 1615045773693] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 7ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T10:49:33.732-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045768528] [timeMillis: 1615045773732] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T10:49:33.748-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045768534] [timeMillis: 1615045773748] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T10:49:33.759-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045768534] [timeMillis: 1615045773759] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T10:49:33.761-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045768534] [timeMillis: 1615045773761] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4725ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T10:49:33.807-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615045768534] [timeMillis: 1615045773807] [levelValue: 800] [[
  Network Listener iiop-service started in: 1ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T10:49:34.377-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045774377] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2444ms), startup services(5854ms), total(8298ms)]]

[2021-03-06T10:49:34.378-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=111 _ThreadName=Executor-Service-2] [timeMillis: 1615045774378] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 45cd889d-81e0-45fb-92bc-5dd050aecdb7 Address: /192.168.1.114:4900
}]]

[2021-03-06T10:49:34.389-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045774389] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T10:49:34.392-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045774392] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T10:49:34.412-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045774412] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T10:49:34.412-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045774412] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T10:49:34.547-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045768527] [timeMillis: 1615045774547] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T10:49:34.572-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=151 _ThreadName=Thread-13] [timeMillis: 1615045774572] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T10:49:35.171-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045775171] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T10:49:36.740-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045776740] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T10:49:37.191-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615045777191] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T10:49:37.922-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045777922] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T10:49:37.923-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045777923] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T10:49:37.926-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045777926] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T10:49:37.978-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045777978] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T10:49:38.106-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045778106] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T10:49:38.113-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045778113] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T10:49:38.115-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045778115] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T10:49:38.137-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045778137] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T10:49:38.141-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045778141] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T10:49:38.374-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045778374] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T10:49:59.425-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045799425] [levelValue: 800] [[
  Loading application __admingui done in 22573 ms]]

[2021-03-06T10:50:01.272-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045801272] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T10:50:02.512-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615045802512] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T10:50:03.574-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045803574] [levelValue: 800] [[
  Context path from ServletContext:  differs from path from bundle: /]]

[2021-03-06T10:50:06.331-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045806331] [levelValue: 800] [[
  Redirecting to /common/appServer/shutdown.jsf]]

[2021-03-06T10:50:07.142-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=203 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1615045807142] [levelValue: 800] [[
  =======stopInstance Called...]]

[2021-03-06T10:50:07.175-0500] [Payara 5.2021.1] [SEVERE] [] [org.glassfish.admingui] [tid: _ThreadID=203 _ThreadName=admin-thread-pool::admin-listener(3)] [timeMillis: 1615045807175] [levelValue: 1000] [[
  URI is not absolute;
java.lang.IllegalArgumentException: URI is not absolute;
restRequest: endpoint=/stop
attrs={}
method=POST]]

[2021-03-06T10:50:34.332-0500] [Payara 5.2021.1] [SEVERE] [] [Annotation-Framework] [tid: _ThreadID=140 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045834332] [levelValue: 1000] [[
  Class [ edu/stevens/cs594/chat/domain/IRoleFactory ] not found. Error while loading [ class edu.stevens.cs594.chat.service.ejb.MessageService ]]]

[2021-03-06T10:50:34.654-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=140 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045834654] [levelValue: 1000] [[
  Exception while deploying the app [ChatApp]]]

[2021-03-06T10:50:34.654-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=140 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045834654] [levelValue: 1000] [[
  Exception during lifecycle processing
java.lang.IllegalArgumentException: Invalid ejb jar [ChatService-1.0.0.jar]: it contains zero ejb. 
Note: 
1. A valid ejb jar requires at least one session, entity (1.x/2.x style), or message-driven bean. 
2. EJB3+ entity beans (@Entity) are POJOs and please package them as library jar. 
3. If the jar file contains valid EJBs which are annotated with EJB component level annotations (@Stateless, @Stateful, @MessageDriven, @Singleton), please check server.log to see whether the annotations were processed properly.
	at org.glassfish.ejb.deployment.util.EjbBundleValidator.accept(EjbBundleValidator.java:149)
	at org.glassfish.ejb.deployment.util.EjbBundleValidator.accept(EjbBundleValidator.java:114)
	at com.sun.enterprise.deployment.BundleDescriptor.visit(BundleDescriptor.java:618)
	at org.glassfish.ejb.deployment.descriptor.EjbBundleDescriptorImpl.visit(EjbBundleDescriptorImpl.java:736)
	at com.sun.enterprise.deployment.util.ApplicationValidator.accept(ApplicationValidator.java:118)
	at com.sun.enterprise.deployment.BundleDescriptor.visit(BundleDescriptor.java:618)
	at com.sun.enterprise.deployment.archivist.ApplicationArchivist.validate(ApplicationArchivist.java:724)
	at com.sun.enterprise.deployment.archivist.ApplicationArchivist.openWith(ApplicationArchivist.java:268)
	at com.sun.enterprise.deployment.archivist.ApplicationFactory.openWith(ApplicationFactory.java:232)
	at org.glassfish.javaee.core.deployment.DolProvider.processDOL(DolProvider.java:211)
	at org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:246)
	at org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:97)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployer(ApplicationLifecycle.java:1095)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployers(ApplicationLifecycle.java:1063)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.setupContainerInfos(ApplicationLifecycle.java:878)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.prepare(ApplicationLifecycle.java:446)
	at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:576)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:360)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:360)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:120)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)
	at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:604)
	at com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:256)
	at org.glassfish.grizzly.http.server.StaticHttpHandlerBase.service(StaticHttpHandlerBase.java:166)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)
	at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)
	at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:524)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T10:50:34.671-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=140 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045834671] [levelValue: 1000] [[
  Exception while deploying the app [ChatApp] : Invalid ejb jar [ChatService-1.0.0.jar]: it contains zero ejb. 
Note: 
1. A valid ejb jar requires at least one session, entity (1.x/2.x style), or message-driven bean. 
2. EJB3+ entity beans (@Entity) are POJOs and please package them as library jar. 
3. If the jar file contains valid EJBs which are annotated with EJB component level annotations (@Stateless, @Stateful, @MessageDriven, @Singleton), please check server.log to see whether the annotations were processed properly.]]

[2021-03-06T10:50:34.725-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00092] [javax.enterprise.system.core] [tid: _ThreadID=211 _ThreadName=Thread-31] [timeMillis: 1615045834725] [levelValue: 800] [[
  Server shutdown initiated]]

[2021-03-06T10:50:34.734-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=211 _ThreadName=Thread-31] [timeMillis: 1615045834734] [levelValue: 800] [[
  FileMonitoring shutdown]]

[2021-03-06T10:50:34.746-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00002] [javax.enterprise.system.jmx] [tid: _ThreadID=211 _ThreadName=Thread-31] [timeMillis: 1615045834746] [levelValue: 800] [[
  JMXStartupService: Stopped JMXConnectorServer: null]]

[2021-03-06T10:50:34.747-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00001] [javax.enterprise.system.jmx] [tid: _ThreadID=211 _ThreadName=Thread-31] [timeMillis: 1615045834747] [levelValue: 800] [[
  JMXStartupService and JMXConnectors have been shut down.]]

[2021-03-06T10:50:34.875-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045834794] [timeMillis: 1615045834875] [levelValue: 800] [[
  Hazelcast Instance Unbound from JNDI at payara/Hazelcast]]

[2021-03-06T10:50:34.875-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045834794] [timeMillis: 1615045834875] [levelValue: 800] [[
  JSR107 Caching Provider Unbound from JNDI at payara/CachingProvider]]

[2021-03-06T10:50:34.876-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045834794] [timeMillis: 1615045834876] [levelValue: 800] [[
  JSR107 Cache Manager Unbound from JNDI at payara/CacheManager]]

[2021-03-06T10:50:34.908-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045834794] [timeMillis: 1615045834908] [levelValue: 800] [[
  Shutdown Hazelcast]]

[2021-03-06T10:50:34.928-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615045834794] [timeMillis: 1615045834928] [levelValue: 800] [[
  JdbcRuntimeExtension,  getAllSystemRAResourcesAndPools = [GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource]]]

[2021-03-06T10:52:20.129-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045940044] [timeMillis: 1615045940129] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T10:52:20.137-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045940044] [timeMillis: 1615045940137] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T10:52:20.627-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045940043] [timeMillis: 1615045940627] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T10:52:25.076-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045940044] [timeMillis: 1615045945076] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T10:52:25.077-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045940044] [timeMillis: 1615045945077] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T10:52:25.077-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045940044] [timeMillis: 1615045945077] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T10:52:25.238-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045940050] [timeMillis: 1615045945238] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 8ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T10:52:25.267-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045940044] [timeMillis: 1615045945267] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T10:52:25.291-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045940050] [timeMillis: 1615045945291] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T10:52:25.303-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045940050] [timeMillis: 1615045945303] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T10:52:25.305-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615045940050] [timeMillis: 1615045945305] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4771ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T10:52:25.356-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615045940043] [timeMillis: 1615045945356] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T10:52:25.864-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045945864] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2429ms), startup services(5825ms), total(8254ms)]]

[2021-03-06T10:52:25.865-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=111 _ThreadName=Executor-Service-1] [timeMillis: 1615045945865] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: d3d0dae4-ae82-477c-a688-2abd4c879bb0 Address: /192.168.1.114:4900
}]]

[2021-03-06T10:52:25.875-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045945875] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T10:52:25.880-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045945880] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T10:52:25.903-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045945903] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T10:52:25.903-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615045945903] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T10:52:26.012-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615045940044] [timeMillis: 1615045946012] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T10:52:26.052-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=151 _ThreadName=Thread-13] [timeMillis: 1615045946052] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T10:52:26.632-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045946632] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T10:52:28.259-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615045948259] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T10:52:28.757-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615045948757] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T10:52:29.523-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949523] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T10:52:29.524-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949524] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T10:52:29.528-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949528] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T10:52:29.586-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949586] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T10:52:29.732-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949732] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T10:52:29.739-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949739] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T10:52:29.741-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949741] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T10:52:29.771-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949771] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T10:52:29.774-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949774] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T10:52:29.962-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045949962] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T10:52:50.802-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045970802] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T10:52:51.226-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045971226] [levelValue: 800] [[
  Loading application __admingui done in 22835 ms]]

[2021-03-06T10:52:52.474-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045972474] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T10:52:52.549-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045972549] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T10:52:52.575-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045972575] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T10:52:52.631-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045972631] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T10:52:53.338-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045973338] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T10:52:53.836-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973836] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T10:52:53.837-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973837] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T10:52:53.837-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973837] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T10:52:53.838-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973838] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T10:52:53.839-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973839] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T10:52:53.840-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973840] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T10:52:53.840-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973840] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T10:52:53.840-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973840] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T10:52:53.840-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973840] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T10:52:53.854-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973854] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T10:52:53.912-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045973912] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T10:52:54.137-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045974137] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T10:52:54.808-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=167 _ThreadName=Thread-15] [timeMillis: 1615045974808] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T10:52:56.722-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045976722] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T10:52:57.156-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045977156] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T10:52:57.156-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045977156] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T10:52:57.247-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045977247] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T10:52:58.722-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045978722] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:52:58.725-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045978725] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:52:59.130-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615045979130] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T10:54:01.883-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046041883] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T10:54:01.963-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046041963] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T10:54:02.044-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046042044] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T10:54:02.055-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046042055] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T10:54:02.067-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046042067] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T10:54:02.262-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046042262] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T10:54:02.317-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046042317] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T10:54:02.541-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046042541] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T10:54:02.985-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046042985] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T10:54:03.149-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=160 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046043149] [levelValue: 800] [[
  ChatApp was successfully deployed in 95,042 milliseconds.]]

[2021-03-06T10:54:32.844-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046072844] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T10:54:32.844-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046072844] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T10:54:32.844-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046072844] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T10:54:50.669-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=124 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615046090669] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T10:54:50.669-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=124 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615046090669] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T10:54:50.669-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=124 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615046090669] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T10:55:10.520-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=126 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615046110520] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T10:55:10.521-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=126 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615046110521] [levelValue: 800] [[
  Principal: jane]]

[2021-03-06T10:55:10.521-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=126 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615046110521] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T10:55:40.025-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=125 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615046140025] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T10:55:40.025-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=125 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615046140025] [levelValue: 800] [[
  Principal: asdfa]]

[2021-03-06T10:55:40.025-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=125 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615046140025] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T10:57:06.319-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046226319] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T10:57:06.319-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046226319] [levelValue: 800] [[
  Principal: dsfadsfasdf]]

[2021-03-06T10:57:06.319-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046226319] [levelValue: 800] [[
  Selected login role: poster]]

[2021-03-06T10:57:06.341-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046226341] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T10:57:21.683-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046241600] [timeMillis: 1615046241683] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T10:57:21.690-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046241600] [timeMillis: 1615046241690] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T10:57:22.197-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046242197] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T10:57:26.621-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046241600] [timeMillis: 1615046246621] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T10:57:26.621-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046241600] [timeMillis: 1615046246621] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T10:57:26.621-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046241600] [timeMillis: 1615046246621] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T10:57:26.774-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046246774] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 6ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T10:57:26.816-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046241600] [timeMillis: 1615046246816] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T10:57:26.819-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046246819] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T10:57:26.830-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046246830] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T10:57:26.831-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046246831] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4757ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T10:57:26.879-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046246879] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T10:57:29.324-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249324] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T10:57:29.458-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249458] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T10:57:29.725-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249725] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T10:57:29.725-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249725] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T10:57:29.728-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249728] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T10:57:29.768-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249768] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T10:57:29.926-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249926] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T10:57:29.933-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249933] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T10:57:29.934-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249934] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T10:57:29.956-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249956] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T10:57:29.959-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046249959] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T10:57:30.102-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046250102] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T10:57:32.694-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046252694] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T10:57:32.879-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046252879] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T10:57:34.109-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046254109] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T10:57:34.576-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046254576] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T10:57:34.577-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046254577] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T10:57:34.658-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046254658] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T10:57:36.115-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256115] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:57:36.118-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256118] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:57:36.578-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256578] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T10:57:36.593-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256593] [levelValue: 800] [[
  Loading application ChatApp done in 9939 ms]]

[2021-03-06T10:57:36.695-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256695] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T10:57:36.712-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256712] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T10:57:36.818-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256818] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T10:57:36.858-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256858] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T10:57:36.909-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046256909] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T10:57:37.857-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046257857] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T10:57:37.991-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046257991] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:57:37.997-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046257997] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T10:57:37.997-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046257997] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy256.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T10:57:37.999-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046257999] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@6905a571 of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T10:57:38.000-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046258000] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T10:57:38.001-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046258001] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:57:38.007-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046258007] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:57:38.008-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046258008] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@704752c0)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:57:38.009-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046258009] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T10:57:38.036-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046241605] [timeMillis: 1615046258036] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T10:57:38.087-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046258087] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2383ms), startup services(16492ms), total(18875ms)]]

[2021-03-06T10:57:38.088-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=153 _ThreadName=Executor-Service-1] [timeMillis: 1615046258088] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: fc40d173-8415-4ee6-aae3-0af4e5adca01 Address: /192.168.1.114:4900
}]]

[2021-03-06T10:57:38.095-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046258095] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T10:57:38.099-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046258099] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T10:57:38.121-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046258121] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T10:57:38.122-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046258122] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T10:57:38.145-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046241599] [timeMillis: 1615046258145] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T10:57:38.287-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=169 _ThreadName=Thread-23] [timeMillis: 1615046258287] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T10:57:39.193-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=130 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615046259193] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T10:57:39.563-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615046259563] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T10:57:39.907-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615046259907] [levelValue: 800] [[
  Loading application __admingui done in 608 ms]]

[2021-03-06T10:57:41.158-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615046261158] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T10:57:42.384-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615046262384] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T10:58:19.892-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00092] [javax.enterprise.system.core] [tid: _ThreadID=213 _ThreadName=Thread-39] [timeMillis: 1615046299892] [levelValue: 800] [[
  Server shutdown initiated]]

[2021-03-06T10:58:19.900-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=213 _ThreadName=Thread-39] [timeMillis: 1615046299900] [levelValue: 800] [[
  FileMonitoring shutdown]]

[2021-03-06T10:58:19.914-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00002] [javax.enterprise.system.jmx] [tid: _ThreadID=213 _ThreadName=Thread-39] [timeMillis: 1615046299914] [levelValue: 800] [[
  JMXStartupService: Stopped JMXConnectorServer: null]]

[2021-03-06T10:58:19.915-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00001] [javax.enterprise.system.jmx] [tid: _ThreadID=213 _ThreadName=Thread-39] [timeMillis: 1615046299915] [levelValue: 800] [[
  JMXStartupService and JMXConnectors have been shut down.]]

[2021-03-06T10:58:20.032-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046241599] [timeMillis: 1615046300032] [levelValue: 800] [[
  Hazelcast Instance Unbound from JNDI at payara/Hazelcast]]

[2021-03-06T10:58:20.032-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046241599] [timeMillis: 1615046300032] [levelValue: 800] [[
  JSR107 Caching Provider Unbound from JNDI at payara/CachingProvider]]

[2021-03-06T10:58:20.032-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046241599] [timeMillis: 1615046300032] [levelValue: 800] [[
  JSR107 Cache Manager Unbound from JNDI at payara/CacheManager]]

[2021-03-06T10:58:20.063-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046241599] [timeMillis: 1615046300063] [levelValue: 800] [[
  Shutdown Hazelcast]]

[2021-03-06T10:58:20.088-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=215 _ThreadName=RunLevelControllerThread-1615046299962] [timeMillis: 1615046300088] [levelValue: 800] [[
  JdbcRuntimeExtension,  getAllSystemRAResourcesAndPools = [GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource]]]

[2021-03-06T10:58:20.098-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.service] [tid: _ThreadID=217 _ThreadName=RA Shutdown] [timeMillis: 1615046300098] [levelValue: 800] [[
  RAR7094: __cp_jdbc_ra shutdown successful.]]

[2021-03-06T10:58:34.941-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046314862] [timeMillis: 1615046314941] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T10:58:34.946-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046314862] [timeMillis: 1615046314946] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T10:58:35.427-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046314862] [timeMillis: 1615046315427] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T10:58:39.772-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046314861] [timeMillis: 1615046319772] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T10:58:39.772-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046314861] [timeMillis: 1615046319772] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T10:58:39.772-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046314861] [timeMillis: 1615046319772] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T10:58:39.940-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046314868] [timeMillis: 1615046319940] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 8ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T10:58:39.973-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046314861] [timeMillis: 1615046319973] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T10:58:39.990-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046314868] [timeMillis: 1615046319990] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T10:58:40.002-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046314868] [timeMillis: 1615046320002] [levelValue: 800] [[
  Network Listener admin-listener started in: 4ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T10:58:40.003-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046314868] [timeMillis: 1615046320003] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4678ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T10:58:40.392-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046314868] [timeMillis: 1615046320392] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T10:58:42.496-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046322496] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T10:58:42.625-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046322625] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T10:58:42.889-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046322889] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T10:58:42.890-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046322890] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T10:58:42.894-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046322894] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T10:58:42.933-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046322933] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T10:58:43.089-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046323089] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T10:58:43.097-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046323097] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T10:58:43.098-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046323098] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T10:58:43.124-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046323124] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T10:58:43.129-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046323129] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T10:58:43.261-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046323261] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T10:58:45.649-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046325649] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T10:58:45.844-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046325844] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T10:58:47.152-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046327152] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T10:58:47.606-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046327606] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T10:58:47.606-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046327606] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T10:58:47.685-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046327685] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T10:58:49.133-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329133] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:58:49.176-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329176] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T10:58:49.545-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329545] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T10:58:49.571-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329571] [levelValue: 800] [[
  Loading application ChatApp done in 9759 ms]]

[2021-03-06T10:58:49.669-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329669] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T10:58:49.687-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329687] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T10:58:49.807-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329807] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T10:58:49.842-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329842] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T10:58:49.934-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046329934] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T10:58:50.897-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046330897] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T10:58:50.992-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046330992] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:58:50.999-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046330999] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T10:58:50.999-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046330999] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy256.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T10:58:51.001-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046331001] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@13f229a2 of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T10:58:51.002-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046331002] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T10:58:51.003-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046331003] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:58:51.009-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046331009] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:58:51.010-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046331010] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@5b5f6b97)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T10:58:51.012-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046331012] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T10:58:51.046-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046314867] [timeMillis: 1615046331046] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T10:58:51.101-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046331101] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2361ms), startup services(16245ms), total(18606ms)]]

[2021-03-06T10:58:51.103-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=157 _ThreadName=Executor-Service-3] [timeMillis: 1615046331103] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: fd4af836-d95d-464b-80f5-e01793b46c49 Address: /192.168.1.114:4900
}]]

[2021-03-06T10:58:51.111-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046331111] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T10:58:51.115-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046331115] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T10:58:51.144-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046331144] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T10:58:51.145-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046331145] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T10:58:51.171-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046314868] [timeMillis: 1615046331171] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T10:58:51.312-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=172 _ThreadName=Thread-23] [timeMillis: 1615046331312] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T10:58:52.357-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046332357] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T10:58:52.686-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615046332686] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T10:58:53.054-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=183 _ThreadName=Thread-24] [timeMillis: 1615046333054] [levelValue: 800] [[
  Loading application __admingui done in 609 ms]]

[2021-03-06T10:58:54.310-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=183 _ThreadName=Thread-24] [timeMillis: 1615046334310] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T10:58:55.461-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=183 _ThreadName=Thread-24] [timeMillis: 1615046335461] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T10:59:25.411-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00092] [javax.enterprise.system.core] [tid: _ThreadID=219 _ThreadName=Thread-39] [timeMillis: 1615046365411] [levelValue: 800] [[
  Server shutdown initiated]]

[2021-03-06T10:59:25.418-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=219 _ThreadName=Thread-39] [timeMillis: 1615046365418] [levelValue: 800] [[
  FileMonitoring shutdown]]

[2021-03-06T10:59:25.432-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00002] [javax.enterprise.system.jmx] [tid: _ThreadID=219 _ThreadName=Thread-39] [timeMillis: 1615046365432] [levelValue: 800] [[
  JMXStartupService: Stopped JMXConnectorServer: null]]

[2021-03-06T10:59:25.432-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00001] [javax.enterprise.system.jmx] [tid: _ThreadID=219 _ThreadName=Thread-39] [timeMillis: 1615046365432] [levelValue: 800] [[
  JMXStartupService and JMXConnectors have been shut down.]]

[2021-03-06T10:59:25.561-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046314862] [timeMillis: 1615046365561] [levelValue: 800] [[
  Hazelcast Instance Unbound from JNDI at payara/Hazelcast]]

[2021-03-06T10:59:25.561-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046314862] [timeMillis: 1615046365561] [levelValue: 800] [[
  JSR107 Caching Provider Unbound from JNDI at payara/CachingProvider]]

[2021-03-06T10:59:25.561-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046314862] [timeMillis: 1615046365561] [levelValue: 800] [[
  JSR107 Cache Manager Unbound from JNDI at payara/CacheManager]]

[2021-03-06T10:59:25.591-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046314862] [timeMillis: 1615046365591] [levelValue: 800] [[
  Shutdown Hazelcast]]

[2021-03-06T10:59:25.614-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=221 _ThreadName=RunLevelControllerThread-1615046365489] [timeMillis: 1615046365614] [levelValue: 800] [[
  JdbcRuntimeExtension,  getAllSystemRAResourcesAndPools = [GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource]]]

[2021-03-06T10:59:25.624-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.service] [tid: _ThreadID=223 _ThreadName=RA Shutdown] [timeMillis: 1615046365624] [levelValue: 800] [[
  RAR7094: __cp_jdbc_ra shutdown successful.]]

[2021-03-06T10:59:45.164-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046385079] [timeMillis: 1615046385164] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T10:59:45.169-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046385079] [timeMillis: 1615046385169] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T10:59:45.657-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615046385084] [timeMillis: 1615046385657] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T10:59:50.139-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046385078] [timeMillis: 1615046390139] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T10:59:50.140-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046385078] [timeMillis: 1615046390140] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T10:59:50.140-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046385078] [timeMillis: 1615046390140] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T10:59:50.268-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046385084] [timeMillis: 1615046390268] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 9ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T10:59:50.312-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046385084] [timeMillis: 1615046390312] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 6ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T10:59:50.326-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615046385078] [timeMillis: 1615046390326] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T10:59:50.338-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046385084] [timeMillis: 1615046390338] [levelValue: 800] [[
  Network Listener admin-listener started in: 5ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T10:59:50.341-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046385084] [timeMillis: 1615046390341] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4784ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T10:59:50.395-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615046385079] [timeMillis: 1615046390395] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T10:59:50.909-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046390909] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2350ms), startup services(5835ms), total(8185ms)]]

[2021-03-06T10:59:50.910-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=113 _ThreadName=Executor-Service-4] [timeMillis: 1615046390910] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 4e517819-cb76-4590-a5e1-82047f7ef88f Address: /192.168.1.114:4900
}]]

[2021-03-06T10:59:50.919-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046390919] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T10:59:50.923-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046390923] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T10:59:50.944-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046390944] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T10:59:50.945-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615046390945] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T10:59:51.045-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615046385084] [timeMillis: 1615046391045] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 1ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T10:59:51.089-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=149 _ThreadName=Thread-13] [timeMillis: 1615046391089] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T10:59:51.667-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046391667] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T10:59:53.046-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046393046] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T10:59:53.457-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615046393457] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T10:59:54.144-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394144] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T10:59:54.145-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394145] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T10:59:54.148-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394148] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T10:59:54.200-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394200] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T10:59:54.309-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394309] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T10:59:54.315-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394315] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T10:59:54.316-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394316] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T10:59:54.342-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394342] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T10:59:54.345-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394345] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T10:59:54.539-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046394539] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T11:00:15.838-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046415838] [levelValue: 800] [[
  Loading application __admingui done in 22684 ms]]

[2021-03-06T11:00:17.865-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046417865] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T11:00:18.022-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046418022] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T11:00:19.451-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046419451] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T11:00:19.526-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046419526] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T11:00:19.542-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046419542] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T11:00:19.565-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=161 _ThreadName=Thread-15] [timeMillis: 1615046419565] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T11:00:19.604-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046419604] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T11:00:20.632-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420632] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T11:00:20.633-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420633] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T11:00:20.633-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420633] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T11:00:20.634-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420634] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T11:00:20.635-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420635] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T11:00:20.635-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420635] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T11:00:20.635-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420635] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T11:00:20.635-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420635] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T11:00:20.636-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420636] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T11:00:20.638-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420638] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T11:00:20.694-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046420694] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T11:00:23.321-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046423321] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T11:00:23.862-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046423862] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T11:00:23.862-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046423862] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T11:00:23.893-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046423893] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T11:00:23.987-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046423987] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T11:00:25.409-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046425409] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T11:00:25.412-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046425412] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T11:00:25.861-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046425861] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T11:00:33.094-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433094] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T11:00:33.221-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433221] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T11:00:33.318-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433318] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T11:00:33.330-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433330] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T11:00:33.342-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433342] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T11:00:33.563-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433563] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T11:00:33.610-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433610] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T11:00:33.736-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046433736] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T11:00:34.238-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046434238] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T11:00:34.417-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=128 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615046434417] [levelValue: 800] [[
  ChatApp was successfully deployed in 18,149 milliseconds.]]

[2021-03-06T11:03:32.103-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046612103] [levelValue: 800] [[
  Result of authentication: SEND_FAILURE]]

[2021-03-06T11:03:35.002-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615046615002] [levelValue: 800] [[
  Failed to authenticate safd with password 33t]]

[2021-03-06T11:04:12.514-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615046652514] [levelValue: 800] [[
  Result of authentication: SEND_FAILURE]]

[2021-03-06T11:04:12.514-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615046652514] [levelValue: 800] [[
  Failed to authenticate joe with password 123]]

[2021-03-06T11:04:47.572-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=124 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615046687572] [levelValue: 800] [[
  Result of authentication: SEND_FAILURE]]

[2021-03-06T11:04:47.572-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=124 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615046687572] [levelValue: 800] [[
  Failed to authenticate joe with password asdf]]

[2021-03-06T11:20:23.893-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=263 _ThreadName=__ejb-thread-pool3] [timeMillis: 1615047623893] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T11:20:23.894-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=263 _ThreadName=__ejb-thread-pool3] [timeMillis: 1615047623894] [levelValue: 900] [[
  
javax.ejb.EJBException
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy351.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.doResize(NonBlockingPool.java:541)
	at com.sun.ejb.containers.util.pool.NonBlockingPool$IdleBeanWork.run(NonBlockingPool.java:652)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException
	at com.sun.enterprise.container.common.impl.EntityManagerWrapper.close(EntityManagerWrapper.java:787)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(ChatDomainProducer.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 37 more
]]

[2021-03-06T11:20:23.899-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=263 _ThreadName=__ejb-thread-pool3] [timeMillis: 1615047623899] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@34242b3a of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T12:42:10.559-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052530444] [timeMillis: 1615052530559] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T12:42:10.565-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052530444] [timeMillis: 1615052530565] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T12:42:11.113-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052531113] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T12:42:15.610-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052530444] [timeMillis: 1615052535610] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T12:42:15.610-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052530444] [timeMillis: 1615052535610] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T12:42:15.611-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052530444] [timeMillis: 1615052535611] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T12:42:15.779-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052530443] [timeMillis: 1615052535779] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 5ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T12:42:15.822-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052530444] [timeMillis: 1615052535822] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T12:42:15.829-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052530443] [timeMillis: 1615052535829] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T12:42:15.842-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052530443] [timeMillis: 1615052535842] [levelValue: 800] [[
  Network Listener admin-listener started in: 3ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T12:42:15.844-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052530443] [timeMillis: 1615052535844] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4844ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T12:42:15.889-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052530443] [timeMillis: 1615052535889] [levelValue: 800] [[
  Network Listener iiop-service started in: 3ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T12:42:18.400-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052538400] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T12:42:18.546-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052538546] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T12:42:18.818-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052538818] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T12:42:18.819-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052538819] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T12:42:18.823-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052538823] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T12:42:18.868-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052538868] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T12:42:19.036-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052539036] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T12:42:19.045-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052539045] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T12:42:19.046-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052539046] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T12:42:19.074-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052539074] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T12:42:19.077-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052539077] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T12:42:19.218-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052539218] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T12:42:21.745-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052541745] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T12:42:23.275-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052543275] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T12:42:23.784-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052543784] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T12:42:23.784-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052543784] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T12:42:23.833-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052543833] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T12:42:23.924-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052543924] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T12:42:25.364-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052545364] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:42:25.366-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052545366] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:42:25.827-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052545827] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T12:42:25.843-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052545843] [levelValue: 800] [[
  Loading application ChatApp done in 10189 ms]]

[2021-03-06T12:42:25.944-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052545944] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T12:42:25.963-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052545963] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T12:42:26.087-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052546087] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T12:42:26.114-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052546114] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T12:42:26.201-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052546201] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T12:42:27.171-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547171] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T12:42:27.266-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547266] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:42:27.274-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547274] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T12:42:27.275-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547275] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T12:42:27.277-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547277] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@3ba5237e of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T12:42:27.278-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547278] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T12:42:27.278-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547278] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:42:27.286-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547286] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:42:27.288-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547288] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@7abfa353)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(moderator) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:42:27.291-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547291] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T12:42:27.321-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547321] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T12:42:27.376-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052547376] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2399ms), startup services(16938ms), total(19337ms)]]

[2021-03-06T12:42:27.377-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=157 _ThreadName=Executor-Service-4] [timeMillis: 1615052547377] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 6402fa42-f77b-4cc4-ac2c-c14f1db2928f Address: /192.168.1.114:4900
}]]

[2021-03-06T12:42:27.388-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052547388] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T12:42:27.394-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052547394] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T12:42:27.423-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052547423] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T12:42:27.424-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052547424] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T12:42:27.449-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052530448] [timeMillis: 1615052547449] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T12:42:27.603-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=173 _ThreadName=Thread-23] [timeMillis: 1615052547603] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T12:42:28.933-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=170 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052548933] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T12:42:30.542-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615052550542] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T12:42:30.774-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=193 _ThreadName=Thread-24] [timeMillis: 1615052550774] [levelValue: 800] [[
  Loading application __admingui done in 1725 ms]]

[2021-03-06T12:42:31.453-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551453] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T12:42:31.687-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551687] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T12:42:31.694-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551694] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T12:42:31.702-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551702] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T12:42:31.720-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551720] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T12:42:31.851-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551851] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T12:42:31.852-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551852] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T12:42:31.852-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551852] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T12:42:31.853-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551853] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T12:42:31.855-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551855] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T12:42:31.855-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551855] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T12:42:31.855-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551855] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T12:42:31.856-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551856] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T12:42:31.856-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551856] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T12:42:31.857-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551857] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T12:42:31.989-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052551989] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T12:42:32.113-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052552113] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T12:42:32.114-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052552114] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T12:42:32.241-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052552241] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T12:42:32.957-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052552957] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:42:32.957-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052552957] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:42:33.108-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052553108] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T12:42:33.135-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=193 _ThreadName=Thread-24] [timeMillis: 1615052553135] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T12:42:34.755-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=193 _ThreadName=Thread-24] [timeMillis: 1615052554755] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T12:44:47.259-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=170 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052687259] [levelValue: 800] [[
  Context path from ServletContext:  differs from path from bundle: /]]

[2021-03-06T12:44:50.205-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=241 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615052690205] [levelValue: 800] [[
  Redirecting to /common/appServer/shutdown.jsf]]

[2021-03-06T12:44:50.978-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=170 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052690978] [levelValue: 800] [[
  =======stopInstance Called...]]

[2021-03-06T12:44:51.006-0500] [Payara 5.2021.1] [SEVERE] [] [org.glassfish.admingui] [tid: _ThreadID=170 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052691006] [levelValue: 1000] [[
  URI is not absolute;
java.lang.IllegalArgumentException: URI is not absolute;
restRequest: endpoint=/stop
attrs={}
method=POST]]

[2021-03-06T12:44:59.694-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=241 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615052699694] [levelValue: 800] [[
  Admin Console: Initializing Session Attributes...]]

[2021-03-06T12:45:10.030-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=170 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052710030] [levelValue: 800] [[
  =======stopInstance Called...]]

[2021-03-06T12:45:10.047-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00092] [javax.enterprise.system.core] [tid: _ThreadID=244 _ThreadName=Thread-39] [timeMillis: 1615052710047] [levelValue: 800] [[
  Server shutdown initiated]]

[2021-03-06T12:45:10.061-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=244 _ThreadName=Thread-39] [timeMillis: 1615052710061] [levelValue: 800] [[
  FileMonitoring shutdown]]

[2021-03-06T12:45:10.077-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00002] [javax.enterprise.system.jmx] [tid: _ThreadID=244 _ThreadName=Thread-39] [timeMillis: 1615052710077] [levelValue: 800] [[
  JMXStartupService: Stopped JMXConnectorServer: null]]

[2021-03-06T12:45:10.077-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00001] [javax.enterprise.system.jmx] [tid: _ThreadID=244 _ThreadName=Thread-39] [timeMillis: 1615052710077] [levelValue: 800] [[
  JMXStartupService and JMXConnectors have been shut down.]]

[2021-03-06T12:45:10.170-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.web.util] [tid: _ThreadID=249 _ThreadName=RunLevelControllerThread-1615052710124] [timeMillis: 1615052710170] [levelValue: 1000] [[
  The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@33219fa7]) and a value of type [org.glassfish.admingui.theme.AdminguiThemeContext] (value [org.glassfish.admingui.theme.AdminguiThemeContext@468d847f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.]]

[2021-03-06T12:45:10.170-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.web.util] [tid: _ThreadID=249 _ThreadName=RunLevelControllerThread-1615052710124] [timeMillis: 1615052710170] [levelValue: 1000] [[
  The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@33219fa7]) and a value of type [org.glassfish.admingui.theme.AdminguiThemeContext] (value [org.glassfish.admingui.theme.AdminguiThemeContext@468d847f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.]]

[2021-03-06T12:45:10.171-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.web.util] [tid: _ThreadID=249 _ThreadName=RunLevelControllerThread-1615052710124] [timeMillis: 1615052710171] [levelValue: 1000] [[
  The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@33219fa7]) and a value of type [org.glassfish.admingui.theme.AdminguiThemeContext] (value [org.glassfish.admingui.theme.AdminguiThemeContext@468d847f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.]]

[2021-03-06T12:45:10.171-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.web.util] [tid: _ThreadID=249 _ThreadName=RunLevelControllerThread-1615052710124] [timeMillis: 1615052710171] [levelValue: 1000] [[
  The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@33219fa7]) and a value of type [org.glassfish.admingui.theme.AdminguiThemeContext] (value [org.glassfish.admingui.theme.AdminguiThemeContext@468d847f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.]]

[2021-03-06T12:45:46.338-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052746252] [timeMillis: 1615052746338] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T12:45:46.344-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052746252] [timeMillis: 1615052746344] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T12:45:46.827-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052746251] [timeMillis: 1615052746827] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T12:45:51.223-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052746252] [timeMillis: 1615052751223] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T12:45:51.224-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052746252] [timeMillis: 1615052751224] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T12:45:51.224-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052746252] [timeMillis: 1615052751224] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T12:45:51.357-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052746257] [timeMillis: 1615052751357] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 8ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T12:45:51.391-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052746257] [timeMillis: 1615052751391] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T12:45:51.395-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052746252] [timeMillis: 1615052751395] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T12:45:51.404-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052746257] [timeMillis: 1615052751404] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T12:45:51.406-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052746257] [timeMillis: 1615052751406] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4682ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T12:45:51.449-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052746257] [timeMillis: 1615052751449] [levelValue: 800] [[
  Network Listener iiop-service started in: 3ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T12:45:51.995-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052751995] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2392ms), startup services(5748ms), total(8140ms)]]

[2021-03-06T12:45:51.996-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=114 _ThreadName=Executor-Service-5] [timeMillis: 1615052751996] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 0753ea57-23a0-440d-ba3f-07884a7eadc1 Address: /192.168.1.114:4900
}]]

[2021-03-06T12:45:52.007-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052752007] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T12:45:52.011-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052752011] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T12:45:52.032-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052752032] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T12:45:52.033-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052752033] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T12:45:52.137-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052746257] [timeMillis: 1615052752137] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 1ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T12:45:52.178-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=150 _ThreadName=Thread-13] [timeMillis: 1615052752178] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T12:45:52.744-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052752744] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T12:45:54.209-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052754209] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T12:45:54.657-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615052754657] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T12:45:55.340-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755340] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T12:45:55.341-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755341] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T12:45:55.344-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755344] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T12:45:55.395-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755395] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T12:45:55.492-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755492] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T12:45:55.498-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755498] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T12:45:55.499-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755499] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T12:45:55.519-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755519] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T12:45:55.521-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755521] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T12:45:55.701-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052755701] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T12:46:16.485-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052776485] [levelValue: 800] [[
  Loading application __admingui done in 22141 ms]]

[2021-03-06T12:46:18.234-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052778234] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T12:46:19.367-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=164 _ThreadName=Thread-15] [timeMillis: 1615052779367] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T12:47:23.351-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00092] [javax.enterprise.system.core] [tid: _ThreadID=201 _ThreadName=Thread-31] [timeMillis: 1615052843351] [levelValue: 800] [[
  Server shutdown initiated]]

[2021-03-06T12:47:23.359-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=201 _ThreadName=Thread-31] [timeMillis: 1615052843359] [levelValue: 800] [[
  FileMonitoring shutdown]]

[2021-03-06T12:47:23.373-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00002] [javax.enterprise.system.jmx] [tid: _ThreadID=201 _ThreadName=Thread-31] [timeMillis: 1615052843373] [levelValue: 800] [[
  JMXStartupService: Stopped JMXConnectorServer: null]]

[2021-03-06T12:47:23.374-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00001] [javax.enterprise.system.jmx] [tid: _ThreadID=201 _ThreadName=Thread-31] [timeMillis: 1615052843374] [levelValue: 800] [[
  JMXStartupService and JMXConnectors have been shut down.]]

[2021-03-06T12:47:23.591-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=214 _ThreadName=RunLevelControllerThread-1615052843484] [timeMillis: 1615052843591] [levelValue: 800] [[
  Hazelcast Instance Unbound from JNDI at payara/Hazelcast]]

[2021-03-06T12:47:23.591-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=214 _ThreadName=RunLevelControllerThread-1615052843484] [timeMillis: 1615052843591] [levelValue: 800] [[
  JSR107 Caching Provider Unbound from JNDI at payara/CachingProvider]]

[2021-03-06T12:47:23.591-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=214 _ThreadName=RunLevelControllerThread-1615052843484] [timeMillis: 1615052843591] [levelValue: 800] [[
  JSR107 Cache Manager Unbound from JNDI at payara/CacheManager]]

[2021-03-06T12:47:23.640-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=214 _ThreadName=RunLevelControllerThread-1615052843484] [timeMillis: 1615052843640] [levelValue: 800] [[
  Shutdown Hazelcast]]

[2021-03-06T12:47:23.665-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=213 _ThreadName=RunLevelControllerThread-1615052843484] [timeMillis: 1615052843665] [levelValue: 800] [[
  JdbcRuntimeExtension,  getAllSystemRAResourcesAndPools = [GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource]]]

[2021-03-06T12:47:42.617-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052862512] [timeMillis: 1615052862617] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T12:47:42.622-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052862512] [timeMillis: 1615052862622] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T12:47:43.104-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052862512] [timeMillis: 1615052863104] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T12:47:47.594-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052867594] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T12:47:47.594-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052867594] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T12:47:47.595-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052867595] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T12:47:47.766-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052867766] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 8ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T12:47:47.805-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052867805] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T12:47:47.820-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052867820] [levelValue: 800] [[
  Network Listener admin-listener started in: 4ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T12:47:47.821-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052867821] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4803ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T12:47:47.837-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052862512] [timeMillis: 1615052867837] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T12:47:47.875-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052862511] [timeMillis: 1615052867875] [levelValue: 800] [[
  Network Listener iiop-service started in: 3ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T12:47:48.477-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052868477] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2444ms), startup services(5970ms), total(8414ms)]]

[2021-03-06T12:47:48.478-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=112 _ThreadName=Executor-Service-3] [timeMillis: 1615052868478] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 55b9d07b-33fe-48d5-bdae-ad9801a1a232 Address: /192.168.1.114:4900
}]]

[2021-03-06T12:47:48.488-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052868488] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T12:47:48.494-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052868494] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T12:47:48.517-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052868517] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T12:47:48.518-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052868518] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T12:47:48.683-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052862517] [timeMillis: 1615052868683] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T12:47:48.776-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=150 _ThreadName=Thread-13] [timeMillis: 1615052868776] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T12:47:49.395-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052869395] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T12:47:51.007-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052871007] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T12:47:51.365-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615052871365] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T12:47:52.000-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872000] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T12:47:52.000-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872000] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T12:47:52.003-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872003] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T12:47:52.051-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872051] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T12:47:52.155-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872155] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T12:47:52.162-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872162] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T12:47:52.163-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872163] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T12:47:52.184-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872184] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T12:47:52.187-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872187] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T12:47:52.374-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052872374] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T12:48:13.531-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052893531] [levelValue: 800] [[
  Loading application __admingui done in 22431 ms]]

[2021-03-06T12:48:15.281-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052895281] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T12:48:16.454-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=165 _ThreadName=Thread-15] [timeMillis: 1615052896454] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T12:48:34.770-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00092] [javax.enterprise.system.core] [tid: _ThreadID=198 _ThreadName=Thread-31] [timeMillis: 1615052914770] [levelValue: 800] [[
  Server shutdown initiated]]

[2021-03-06T12:48:34.777-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=198 _ThreadName=Thread-31] [timeMillis: 1615052914777] [levelValue: 800] [[
  FileMonitoring shutdown]]

[2021-03-06T12:48:34.790-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00002] [javax.enterprise.system.jmx] [tid: _ThreadID=198 _ThreadName=Thread-31] [timeMillis: 1615052914790] [levelValue: 800] [[
  JMXStartupService: Stopped JMXConnectorServer: null]]

[2021-03-06T12:48:34.791-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00001] [javax.enterprise.system.jmx] [tid: _ThreadID=198 _ThreadName=Thread-31] [timeMillis: 1615052914791] [levelValue: 800] [[
  JMXStartupService and JMXConnectors have been shut down.]]

[2021-03-06T12:48:34.932-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052862511] [timeMillis: 1615052914932] [levelValue: 800] [[
  Hazelcast Instance Unbound from JNDI at payara/Hazelcast]]

[2021-03-06T12:48:34.932-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052862511] [timeMillis: 1615052914932] [levelValue: 800] [[
  JSR107 Caching Provider Unbound from JNDI at payara/CachingProvider]]

[2021-03-06T12:48:34.932-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052862511] [timeMillis: 1615052914932] [levelValue: 800] [[
  JSR107 Cache Manager Unbound from JNDI at payara/CacheManager]]

[2021-03-06T12:48:34.965-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052862511] [timeMillis: 1615052914965] [levelValue: 800] [[
  Shutdown Hazelcast]]

[2021-03-06T12:48:34.981-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=199 _ThreadName=RunLevelControllerThread-1615052914845] [timeMillis: 1615052914981] [levelValue: 800] [[
  JdbcRuntimeExtension,  getAllSystemRAResourcesAndPools = [GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcConnectionPool, GlassFishConfigBean.org.glassfish.jdbc.config.JdbcResource]]]

[2021-03-06T12:49:17.244-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052957133] [timeMillis: 1615052957244] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T12:49:17.249-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052957133] [timeMillis: 1615052957249] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T12:49:17.693-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052957138] [timeMillis: 1615052957693] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T12:49:22.086-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052957138] [timeMillis: 1615052962086] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T12:49:22.086-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052957138] [timeMillis: 1615052962086] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T12:49:22.087-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052957138] [timeMillis: 1615052962087] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T12:49:22.222-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052957132] [timeMillis: 1615052962222] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 6ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T12:49:22.249-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615052957138] [timeMillis: 1615052962249] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T12:49:22.272-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052957132] [timeMillis: 1615052962272] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T12:49:22.281-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052957132] [timeMillis: 1615052962281] [levelValue: 800] [[
  Network Listener admin-listener started in: 2ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T12:49:22.283-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615052957132] [timeMillis: 1615052962283] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4655ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T12:49:22.321-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615052957133] [timeMillis: 1615052962321] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T12:49:22.878-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052962878] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2322ms), startup services(5751ms), total(8073ms)]]

[2021-03-06T12:49:22.879-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=114 _ThreadName=Executor-Service-5] [timeMillis: 1615052962879] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: cad6d3f8-98a7-445c-96f6-7e3a8171baf3 Address: /192.168.1.114:4900
}]]

[2021-03-06T12:49:22.888-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052962888] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T12:49:22.892-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052962892] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T12:49:22.919-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052962919] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T12:49:22.920-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615052962920] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T12:49:23.041-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615052957138] [timeMillis: 1615052963041] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 1ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T12:49:23.079-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=150 _ThreadName=Thread-13] [timeMillis: 1615052963079] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T12:49:23.635-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052963635] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T12:49:24.967-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052964967] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T12:49:25.335-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615052965335] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T12:49:25.991-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052965991] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T12:49:25.992-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052965992] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T12:49:25.995-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052965995] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T12:49:26.054-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052966054] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T12:49:26.175-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052966175] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T12:49:26.182-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052966182] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T12:49:26.184-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052966184] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T12:49:26.210-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052966210] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T12:49:26.213-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052966213] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T12:49:26.410-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052966410] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T12:49:48.089-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052988089] [levelValue: 800] [[
  Loading application __admingui done in 23008 ms]]

[2021-03-06T12:49:50.104-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052990104] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T12:49:50.321-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052990321] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T12:49:51.723-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052991723] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T12:49:51.770-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052991770] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T12:49:51.814-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=162 _ThreadName=Thread-15] [timeMillis: 1615052991814] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T12:49:51.816-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052991816] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T12:49:51.883-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052991883] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T12:49:52.172-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052992172] [levelValue: 800] [[
  Context path from ServletContext:  differs from path from bundle: /]]

[2021-03-06T12:49:53.055-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993055] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T12:49:53.055-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993055] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T12:49:53.056-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993056] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T12:49:53.056-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993056] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T12:49:53.058-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993058] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T12:49:53.059-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993059] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T12:49:53.059-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993059] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T12:49:53.059-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993059] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T12:49:53.059-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993059] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T12:49:53.062-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993062] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T12:49:53.139-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052993139] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T12:49:55.896-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.admingui] [tid: _ThreadID=209 _ThreadName=admin-thread-pool::admin-listener(6)] [timeMillis: 1615052995896] [levelValue: 800] [[
  Redirecting to /common/appServer/shutdown.jsf]]

[2021-03-06T12:49:56.317-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052996317] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T12:49:56.918-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052996918] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T12:49:56.918-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052996918] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T12:49:56.955-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052996955] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T12:49:57.100-0500] [Payara 5.2021.1] [INFO] [] [] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052997100] [levelValue: 800] [[
  =======stopInstance Called...]]

[2021-03-06T12:49:57.123-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052997123] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T12:49:57.142-0500] [Payara 5.2021.1] [SEVERE] [] [org.glassfish.admingui] [tid: _ThreadID=129 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615052997142] [levelValue: 1000] [[
  URI is not absolute;
java.lang.IllegalArgumentException: URI is not absolute;
restRequest: endpoint=/stop
attrs={}
method=POST]]

[2021-03-06T12:49:58.565-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052998565] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:49:58.567-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052998567] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:49:59.035-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615052999035] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T12:50:04.923-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053004923] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T12:50:05.000-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005000] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T12:50:05.123-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005123] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T12:50:05.139-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005139] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T12:50:05.150-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005150] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T12:50:05.287-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005287] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T12:50:05.337-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005337] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T12:50:05.423-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005423] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T12:50:05.978-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053005978] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T12:50:06.101-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=191 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053006101] [levelValue: 800] [[
  ChatApp was successfully deployed in 17,526 milliseconds.]]

[2021-03-06T12:55:44.061-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053344061] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T12:55:44.067-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053344067] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T12:55:44.594-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615053343969] [timeMillis: 1615053344594] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T12:55:49.043-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615053343963] [timeMillis: 1615053349043] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T12:55:49.044-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615053343963] [timeMillis: 1615053349044] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T12:55:49.044-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615053343963] [timeMillis: 1615053349044] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T12:55:49.211-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053343969] [timeMillis: 1615053349211] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 7ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T12:55:49.251-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615053343963] [timeMillis: 1615053349251] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T12:55:49.264-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053343969] [timeMillis: 1615053349264] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T12:55:49.280-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053343969] [timeMillis: 1615053349280] [levelValue: 800] [[
  Network Listener admin-listener started in: 5ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T12:55:49.281-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053343969] [timeMillis: 1615053349281] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4817ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T12:55:49.326-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053343969] [timeMillis: 1615053349326] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T12:55:51.951-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053351951] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T12:55:52.071-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352071] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T12:55:52.341-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352341] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T12:55:52.342-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352342] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T12:55:52.345-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352345] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T12:55:52.390-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352390] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T12:55:52.552-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352552] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T12:55:52.560-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352560] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T12:55:52.562-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352562] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T12:55:52.584-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352584] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T12:55:52.587-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352587] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T12:55:52.737-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053352737] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T12:55:55.263-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053355263] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T12:55:55.471-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053355471] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T12:55:56.831-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053356831] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T12:55:57.290-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053357290] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T12:55:57.290-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053357290] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T12:55:57.366-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053357366] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T12:55:58.789-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053358789] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:55:58.791-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053358791] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:55:59.308-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053359308] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T12:55:59.324-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053359324] [levelValue: 800] [[
  Loading application ChatApp done in 10243 ms]]

[2021-03-06T12:55:59.427-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053359427] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T12:55:59.447-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053359447] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T12:55:59.569-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053359569] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T12:55:59.596-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053359596] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T12:55:59.689-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053359689] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T12:56:00.814-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360814] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T12:56:00.912-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360912] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:56:00.919-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360919] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T12:56:00.919-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360919] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy256.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T12:56:00.921-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360921] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@2ddb9dd0 of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T12:56:00.923-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360923] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T12:56:00.924-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360924] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:56:00.931-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360931] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:56:00.932-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360932] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@59e5943)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T12:56:00.934-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360934] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T12:56:00.962-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053343964] [timeMillis: 1615053360962] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T12:56:01.021-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053361021] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2503ms), startup services(17062ms), total(19565ms)]]

[2021-03-06T12:56:01.022-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=162 _ThreadName=Executor-Service-7] [timeMillis: 1615053361022] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: c6b56c1a-cba7-41cb-9100-7a578db8a9b1 Address: /192.168.1.114:4900
}]]

[2021-03-06T12:56:01.032-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053361032] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T12:56:01.037-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053361037] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T12:56:01.066-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053361066] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T12:56:01.067-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053361067] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T12:56:01.091-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053343969] [timeMillis: 1615053361091] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T12:56:01.246-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=174 _ThreadName=Thread-23] [timeMillis: 1615053361246] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T12:56:02.405-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053362405] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T12:56:02.771-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615053362771] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T12:56:03.241-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=184 _ThreadName=Thread-24] [timeMillis: 1615053363241] [levelValue: 800] [[
  Loading application __admingui done in 743 ms]]

[2021-03-06T12:56:04.512-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=184 _ThreadName=Thread-24] [timeMillis: 1615053364512] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T12:56:05.805-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=184 _ThreadName=Thread-24] [timeMillis: 1615053365805] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T12:56:08.521-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368521] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T12:56:08.688-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368688] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T12:56:08.694-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368694] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T12:56:08.699-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368699] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T12:56:08.709-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368709] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T12:56:08.821-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368821] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T12:56:08.822-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368822] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T12:56:08.822-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368822] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T12:56:08.823-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368823] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T12:56:08.824-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368824] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T12:56:08.824-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368824] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T12:56:08.824-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368824] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T12:56:08.825-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368825] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T12:56:08.825-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368825] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T12:56:08.826-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368826] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T12:56:08.922-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053368922] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T12:56:09.033-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053369033] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T12:56:09.033-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053369033] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T12:56:09.099-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053369099] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T12:56:09.640-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053369640] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:56:09.640-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053369640] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T12:56:09.765-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053369765] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T12:57:14.934-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053434934] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T12:57:14.969-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053434969] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T12:57:15.007-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053435007] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T12:57:15.018-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053435018] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T12:57:15.029-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053435029] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T12:57:15.269-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053435269] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T12:57:15.321-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053435321] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T12:57:15.460-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053435460] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T12:57:15.973-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053435973] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T12:57:16.161-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053436161] [levelValue: 800] [[
  ChatApp was successfully deployed in 69,370 milliseconds.]]

[2021-03-06T12:59:10.687-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615053550687] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T12:59:17.258-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615053557258] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:00:08.927-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053608927] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:00:08.928-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053608928] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T13:01:13.365-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053673365] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:01:30.754-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053690754] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T13:01:30.817-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053690817] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:03:19.709-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053799709] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T13:03:19.715-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053799715] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T13:03:20.237-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053800237] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T13:03:24.577-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053804577] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T13:03:24.578-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053804578] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T13:03:24.578-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053804578] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T13:03:24.735-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053804735] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 8ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T13:03:24.771-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053804771] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T13:03:24.776-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053804776] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 2ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T13:03:24.790-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053804790] [levelValue: 800] [[
  Network Listener admin-listener started in: 4ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T13:03:24.791-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053804791] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4676ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T13:03:24.844-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053804844] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T13:03:27.377-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807377] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:03:27.492-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807492] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T13:03:27.765-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807765] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T13:03:27.765-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807765] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T13:03:27.768-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807768] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T13:03:27.808-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807808] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T13:03:27.961-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807961] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T13:03:27.969-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807969] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T13:03:27.970-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807970] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T13:03:27.993-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807993] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T13:03:27.996-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053807996] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T13:03:28.125-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053808125] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T13:03:30.615-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053810615] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T13:03:32.186-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053812186] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T13:03:32.690-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053812690] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:03:32.690-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053812690] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:03:32.738-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053812738] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:03:32.833-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053812833] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:03:34.505-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053814505] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:03:34.508-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053814508] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:03:34.953-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053814953] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:03:34.972-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053814972] [levelValue: 800] [[
  Loading application ChatApp done in 10355 ms]]

[2021-03-06T13:03:35.086-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053815086] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:03:35.104-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053815104] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:03:35.215-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053815215] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:03:35.252-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053815252] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:03:35.305-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053815305] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:03:36.478-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816478] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:03:36.571-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816571] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:03:36.577-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816577] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:03:36.577-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816577] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:03:36.579-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816579] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@34f3b055 of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:03:36.581-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816581] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T13:03:36.581-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816581] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:03:36.587-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816587] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:03:36.588-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816588] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2bf3fee5)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:03:36.589-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816589] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T13:03:36.619-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615053799628] [timeMillis: 1615053816619] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T13:03:36.668-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053816668] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2309ms), startup services(17050ms), total(19359ms)]]

[2021-03-06T13:03:36.670-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=159 _ThreadName=Executor-Service-5] [timeMillis: 1615053816670] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 331fb86a-3901-45bf-810d-579f26d15127 Address: /192.168.1.114:4900
}]]

[2021-03-06T13:03:36.679-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053816679] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T13:03:36.685-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053816685] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T13:03:36.714-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053816714] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T13:03:36.715-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615053816715] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T13:03:36.740-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615053799623] [timeMillis: 1615053816740] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T13:03:36.871-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=172 _ThreadName=Thread-23] [timeMillis: 1615053816871] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T13:03:38.150-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=126 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615053818150] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T13:03:39.447-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615053819447] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T13:03:39.979-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=184 _ThreadName=Thread-24] [timeMillis: 1615053819979] [levelValue: 800] [[
  Loading application __admingui done in 1715 ms]]

[2021-03-06T13:03:40.519-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820519] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:03:40.679-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820679] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:03:40.684-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820684] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:03:40.690-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820690] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:03:40.701-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820701] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:03:40.813-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820813] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T13:03:40.814-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820814] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:03:40.814-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820814] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:03:40.815-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820815] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T13:03:40.816-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820816] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:03:40.817-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820817] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T13:03:40.817-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820817] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:03:40.817-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820817] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:03:40.817-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820817] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T13:03:40.818-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820818] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:03:40.958-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053820958] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:03:41.074-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053821074] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:03:41.074-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053821074] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:03:41.147-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053821147] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:03:41.761-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053821761] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:03:41.761-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053821761] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:03:41.872-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=184 _ThreadName=Thread-24] [timeMillis: 1615053821872] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T13:03:41.902-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053821902] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:03:43.310-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=184 _ThreadName=Thread-24] [timeMillis: 1615053823310] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T13:04:02.495-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053842495] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:04:02.537-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053842537] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:04:02.580-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053842580] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T13:04:02.592-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053842592] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T13:04:02.604-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053842604] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T13:04:02.752-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053842752] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T13:04:02.802-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053842802] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T13:04:03.024-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053843024] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T13:04:03.480-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053843480] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T13:04:03.604-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=143 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615053843604] [levelValue: 800] [[
  ChatApp was successfully deployed in 25,311 milliseconds.]]

[2021-03-06T13:05:03.456-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615053903456] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:05:38.342-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053938342] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:05:38.342-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053938342] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T13:05:53.265-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=123 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615053953265] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
javax.faces.application.ViewExpiredException: viewId:/login.xhtml - View /login.xhtml could not be restored.
	at com.sun.faces.lifecycle.RestoreViewPhase.execute(RestoreViewPhase.java:195)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:110)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:06:02.687-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053962687] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:06:02.688-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053962688] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T13:06:02.756-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615053962756] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:07:04.437-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054024437] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:07:04.438-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054024438] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T13:07:08.063-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054028063] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:07:08.063-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054028063] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T13:09:28.867-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615054168867] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:09:28.868-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615054168868] [levelValue: 800] [[
  Principal: jane]]

[2021-03-06T13:09:33.735-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615054173735] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:09:33.736-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615054173736] [levelValue: 800] [[
  Selected login role: poster]]

[2021-03-06T13:12:21.674-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054341674] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:12:21.674-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054341674] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy406.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.destroyBeanAndRollback(EJBContainerTransactionManager.java:696)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:651)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:12:21.676-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054341676] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@39b4aaf9 of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:12:21.678-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054341678] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public long edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(edu.stevens.cs594.chat.service.dto.MessageDto)]]

[2021-03-06T13:12:21.678-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054341678] [levelValue: 900] [[
  
javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor268.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor170.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:12:21.679-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.resource.webcontainer.jsf.lifecycle] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054341679] [levelValue: 900] [[
  #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
javax.faces.FacesException: #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:96)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.faces.el.EvaluationException: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:76)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	... 24 more
Caused by: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	... 25 more
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor268.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor170.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:12:21.680-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615054341680] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor268.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor170.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:14:21.105-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615054461024] [timeMillis: 1615054461105] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T13:14:21.111-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615054461024] [timeMillis: 1615054461111] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T13:14:21.598-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054461598] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T13:14:25.956-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054465956] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T13:14:25.956-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054465956] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T13:14:25.957-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054465957] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T13:14:26.094-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615054461023] [timeMillis: 1615054466094] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 5ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T13:14:26.133-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615054461023] [timeMillis: 1615054466133] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T13:14:26.132-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054466132] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T13:14:26.145-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615054461023] [timeMillis: 1615054466145] [levelValue: 800] [[
  Network Listener admin-listener started in: 3ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T13:14:26.147-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615054461023] [timeMillis: 1615054466147] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4644ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T13:14:26.198-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615054461023] [timeMillis: 1615054466198] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T13:14:28.543-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054468543] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:14:28.682-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054468682] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T13:14:28.947-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054468947] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T13:14:28.947-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054468947] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T13:14:28.951-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054468951] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T13:14:28.991-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054468991] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T13:14:29.148-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054469148] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T13:14:29.156-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054469156] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T13:14:29.158-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054469158] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T13:14:29.181-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054469181] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T13:14:29.184-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054469184] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T13:14:29.312-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054469312] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T13:14:31.766-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054471766] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T13:14:31.951-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054471951] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:14:33.246-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054473246] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T13:14:33.692-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054473692] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:14:33.692-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054473692] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:14:33.771-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054473771] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:14:35.161-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475161] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:14:35.164-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475164] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:14:35.542-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475542] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:14:35.593-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475593] [levelValue: 800] [[
  Loading application ChatApp done in 9602 ms]]

[2021-03-06T13:14:35.693-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475693] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:14:35.711-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475711] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:14:35.782-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475782] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:14:35.858-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475858] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:14:35.909-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054475909] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:14:36.949-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054476949] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:14:37.044-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477044] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:14:37.050-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477050] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:14:37.050-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477050] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy256.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:14:37.052-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477052] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@42eb75cf of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:14:37.054-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477054] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T13:14:37.054-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477054] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:14:37.061-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477061] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:14:37.062-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477062] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@1cec3392)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:14:37.063-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477063] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T13:14:37.132-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615054461029] [timeMillis: 1615054477132] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T13:14:37.188-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615054477188] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2431ms), startup services(16170ms), total(18601ms)]]

[2021-03-06T13:14:37.190-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=155 _ThreadName=Executor-Service-2] [timeMillis: 1615054477190] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 6cc7e828-2386-4bf4-9980-bbcf3013da3f Address: /192.168.1.114:4900
}]]

[2021-03-06T13:14:37.199-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615054477199] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T13:14:37.204-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615054477204] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T13:14:37.228-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615054477228] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T13:14:37.229-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615054477229] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T13:14:37.255-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615054461023] [timeMillis: 1615054477255] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 3ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T13:14:37.382-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=169 _ThreadName=Thread-23] [timeMillis: 1615054477382] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T13:14:38.508-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=149 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615054478508] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T13:14:40.009-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615054480009] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T13:14:40.067-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1615054480067] [levelValue: 800] [[
  Loading application __admingui done in 1456 ms]]

[2021-03-06T13:14:40.714-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054480714] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:14:40.863-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054480863] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:14:40.868-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054480868] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:14:40.873-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054480873] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:14:40.883-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054480883] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:14:41.008-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481008] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T13:14:41.008-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481008] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:14:41.009-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481009] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:14:41.009-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481009] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T13:14:41.011-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481011] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:14:41.012-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481012] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T13:14:41.012-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481012] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:14:41.012-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481012] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:14:41.012-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481012] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T13:14:41.013-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481013] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:14:41.126-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481126] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:14:41.281-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481281] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:14:41.281-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481281] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:14:41.353-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481353] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:14:41.839-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481839] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:14:41.839-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054481839] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:14:42.007-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054482007] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:14:42.018-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1615054482018] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T13:14:43.553-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=188 _ThreadName=Thread-24] [timeMillis: 1615054483553] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T13:15:51.538-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054551538] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:15:51.564-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054551564] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:15:51.596-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054551596] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T13:15:51.606-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054551606] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T13:15:51.616-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054551616] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T13:15:51.855-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054551855] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T13:15:51.903-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054551903] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T13:15:52.034-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054552034] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T13:15:52.490-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054552490] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T13:15:52.622-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615054552622] [levelValue: 800] [[
  ChatApp was successfully deployed in 74,033 milliseconds.]]

[2021-03-06T13:22:09.508-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615054929508] [levelValue: 800] [[
  Result of authentication: SEND_FAILURE]]

[2021-03-06T13:22:09.508-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615054929508] [levelValue: 800] [[
  Failed to authenticate jane with password xyz123]]

[2021-03-06T13:22:21.574-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615054941574] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:22:21.574-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615054941574] [levelValue: 800] [[
  Principal: jane]]

[2021-03-06T13:22:23.894-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615054943894] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:22:23.895-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615054943895] [levelValue: 800] [[
  Selected login role: poster]]

[2021-03-06T13:27:29.639-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249639] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:27:29.640-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249640] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy406.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.destroyBeanAndRollback(EJBContainerTransactionManager.java:696)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:651)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:27:29.641-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249641] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@fca525c of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:27:29.642-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249642] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public long edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(edu.stevens.cs594.chat.service.dto.MessageDto)]]

[2021-03-06T13:27:29.643-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249643] [levelValue: 900] [[
  
javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:27:29.644-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.resource.webcontainer.jsf.lifecycle] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249644] [levelValue: 900] [[
  #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
javax.faces.FacesException: #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:96)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.faces.el.EvaluationException: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:76)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	... 24 more
Caused by: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	... 25 more
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:27:29.648-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249648] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:27:29.653-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615055249653] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:27:36.905-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256905] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:27:36.905-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256905] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy406.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.destroyBeanAndRollback(EJBContainerTransactionManager.java:696)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:651)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:27:36.906-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256906] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@fca525c of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:27:36.907-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256907] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public long edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(edu.stevens.cs594.chat.service.dto.MessageDto)]]

[2021-03-06T13:27:36.908-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256908] [levelValue: 900] [[
  
javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:27:36.908-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.resource.webcontainer.jsf.lifecycle] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256908] [levelValue: 900] [[
  #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
javax.faces.FacesException: #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:96)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.faces.el.EvaluationException: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:76)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	... 24 more
Caused by: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	... 25 more
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:27:36.909-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256909] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:27:36.911-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055256911] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:28:40.059-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320059] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:28:40.059-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320059] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy406.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.destroyBeanAndRollback(EJBContainerTransactionManager.java:696)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:651)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:28:40.060-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320060] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@fca525c of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:28:40.061-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320061] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public long edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(edu.stevens.cs594.chat.service.dto.MessageDto)]]

[2021-03-06T13:28:40.061-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320061] [levelValue: 900] [[
  
javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:28:40.062-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.resource.webcontainer.jsf.lifecycle] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320062] [levelValue: 900] [[
  #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
javax.faces.FacesException: #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:96)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.faces.el.EvaluationException: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:76)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	... 24 more
Caused by: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	... 25 more
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:28:40.063-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320063] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:28:40.064-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615055320064] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:28:55.203-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055335203] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:28:55.204-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055335204] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy406.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.destroyBeanAndRollback(EJBContainerTransactionManager.java:696)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:651)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:28:55.204-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055335204] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@fca525c of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:28:55.205-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055335205] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public long edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(edu.stevens.cs594.chat.service.dto.MessageDto)]]

[2021-03-06T13:28:55.205-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055335205] [levelValue: 900] [[
  
javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:28:55.206-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.resource.webcontainer.jsf.lifecycle] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055335206] [levelValue: 900] [[
  #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
javax.faces.FacesException: #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:96)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.faces.el.EvaluationException: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:76)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	... 24 more
Caused by: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	... 25 more
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:28:55.207-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055335207] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:33:59.454-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055639454] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:33:59.455-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055639455] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy406.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.destroyBeanAndRollback(EJBContainerTransactionManager.java:696)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:651)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:33:59.456-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055639456] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@fca525c of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:33:59.457-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055639457] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public long edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(edu.stevens.cs594.chat.service.dto.MessageDto)]]

[2021-03-06T13:33:59.457-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055639457] [levelValue: 900] [[
  
javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:33:59.458-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.resource.webcontainer.jsf.lifecycle] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055639458] [levelValue: 900] [[
  #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
javax.faces.FacesException: #{messagesBacking.postMessage}: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:96)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.faces.el.EvaluationException: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:76)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	... 24 more
Caused by: javax.ejb.EJBException: Poster of message is inconsistent with message metadata.
	at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)
	at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	... 25 more
Caused by: java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 51 more
]]

[2021-03-06T13:33:59.461-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055639461] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.IllegalStateException: Poster of message is inconsistent with message metadata.
	at edu.stevens.cs594.chat.service.ejb.MessageService.addMessage(MessageService.java:302)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy409.addMessage(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addMessage(Unknown Source)
	at edu.stevens.cs594.chat.webapp.messages.ViewMessages.postMessage(ViewMessages.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:163)
	at com.sun.el.parser.AstValue.invoke(AstValue.java:261)
	at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:237)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:65)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:66)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:82)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:71)
	at javax.faces.component.UICommand.broadcast(UICommand.java:222)
	at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:847)
	at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1396)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:58)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:34:13.466-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055653466] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T13:34:13.472-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055653472] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T13:34:13.939-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055653939] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T13:34:18.325-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615055653382] [timeMillis: 1615055658325] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T13:34:18.325-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615055653382] [timeMillis: 1615055658325] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T13:34:18.325-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615055653382] [timeMillis: 1615055658325] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T13:34:18.480-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615055653383] [timeMillis: 1615055658480] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 7ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T13:34:18.525-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615055653382] [timeMillis: 1615055658525] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T13:34:18.529-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615055653383] [timeMillis: 1615055658529] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T13:34:18.542-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615055653383] [timeMillis: 1615055658542] [levelValue: 800] [[
  Network Listener admin-listener started in: 3ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T13:34:18.544-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615055653383] [timeMillis: 1615055658544] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4692ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T13:34:18.587-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615055653377] [timeMillis: 1615055658587] [levelValue: 800] [[
  Network Listener iiop-service started in: 1ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T13:34:21.000-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661000] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:34:21.113-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661113] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T13:34:21.385-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661385] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T13:34:21.385-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661385] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T13:34:21.388-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661388] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T13:34:21.426-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661426] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T13:34:21.576-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661576] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T13:34:21.584-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661584] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T13:34:21.585-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661585] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T13:34:21.606-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661606] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T13:34:21.609-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661609] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T13:34:21.741-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055661741] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T13:34:24.150-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055664150] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T13:34:25.551-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055665551] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T13:34:26.013-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055666013] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:34:26.014-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055666014] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:34:26.075-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055666075] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:34:26.163-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055666163] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:34:27.557-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055667557] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:34:27.559-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055667559] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:34:27.957-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055667957] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:34:27.975-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055667975] [levelValue: 800] [[
  Loading application ChatApp done in 9617 ms]]

[2021-03-06T13:34:28.073-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055668073] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:34:28.090-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055668090] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:34:28.208-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055668208] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:34:28.234-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055668234] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:34:28.285-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055668285] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:34:29.376-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669376] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:34:29.466-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669466] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:34:29.472-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669472] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:34:29.472-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669472] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:34:29.474-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669474] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@42f47b7b of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:34:29.475-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669475] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T13:34:29.476-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669476] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:34:29.482-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669482] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:34:29.483-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669483] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2cc68532)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(poster) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:34:29.484-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669484] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T13:34:29.511-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615055653378] [timeMillis: 1615055669511] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T13:34:29.563-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615055669563] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2377ms), startup services(16192ms), total(18569ms)]]

[2021-03-06T13:34:29.566-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=154 _ThreadName=Executor-Service-1] [timeMillis: 1615055669566] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: a73b76e3-1a52-42ba-b68a-fb2750f3eb6a Address: /192.168.1.114:4900
}]]

[2021-03-06T13:34:29.573-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615055669573] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T13:34:29.577-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615055669577] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T13:34:29.602-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615055669602] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T13:34:29.602-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615055669602] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T13:34:29.626-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615055653383] [timeMillis: 1615055669626] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 1ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T13:34:29.768-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=169 _ThreadName=Thread-23] [timeMillis: 1615055669768] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T13:34:30.707-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055670707] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T13:34:31.047-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615055671047] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T13:34:31.393-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615055671393] [levelValue: 800] [[
  Loading application __admingui done in 604 ms]]

[2021-03-06T13:34:32.725-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615055672725] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T13:34:33.859-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615055673859] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T13:34:37.070-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677070] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:34:37.228-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677228] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:34:37.232-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677232] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:34:37.236-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677236] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:34:37.245-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677245] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:34:37.347-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677347] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T13:34:37.348-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677348] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:34:37.348-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677348] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:34:37.349-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677349] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T13:34:37.350-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677350] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:34:37.350-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677350] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T13:34:37.350-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677350] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:34:37.350-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677350] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:34:37.350-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677350] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T13:34:37.351-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677351] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:34:37.442-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677442] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:34:37.549-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677549] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:34:37.549-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677549] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:34:37.607-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055677607] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:34:38.094-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678094] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:34:38.094-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678094] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:34:38.228-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678228] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:34:38.286-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678286] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:34:38.311-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678311] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:34:38.349-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678349] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T13:34:38.361-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678361] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T13:34:38.373-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678373] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T13:34:38.561-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678561] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T13:34:38.614-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678614] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T13:34:38.823-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055678823] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T13:34:39.274-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055679274] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T13:34:39.507-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615055679507] [levelValue: 800] [[
  ChatApp was successfully deployed in 4,033 milliseconds.]]

[2021-03-06T13:35:00.760-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055700760] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:35:00.761-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055700761] [levelValue: 800] [[
  Principal: jane]]

[2021-03-06T13:35:07.862-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055707862] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:35:07.863-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615055707863] [levelValue: 800] [[
  Selected login role: poster]]

[2021-03-06T13:36:47.865-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055807865] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:36:47.866-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055807866] [levelValue: 800] [[
  Principal: admin]]

[2021-03-06T13:36:55.006-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055815006] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:36:55.007-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615055815007] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T13:37:18.105-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.resource.webcontainer.jsf.application] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615055838105] [levelValue: 1000] [[
  Error Rendering View[/addUser/qrcode.xhtml]
javax.el.ELException: java.lang.NullPointerException
	at javax.el.ELUtil.invokeMethod(ELUtil.java:245)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:440)
	at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:198)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:110)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:177)
	at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:183)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at com.sun.faces.facelets.el.ELText$ELTextVariable.toString(ELText.java:205)
	at com.sun.faces.facelets.el.ELText$ELTextComposite.toString(ELText.java:131)
	at com.sun.faces.facelets.compiler.CommentInstruction.write(CommentInstruction.java:36)
	at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:41)
	at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:169)
	at javax.faces.render.Renderer.encodeChildren(Renderer.java:152)
	at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:566)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1647)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:468)
	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:170)
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)
	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:102)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:199)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:708)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at com.google.zxing.qrcode.QRCodeWriter.encode(QRCodeWriter.java:54)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.createImage(AddUser.java:185)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.qrCode(AddUser.java:201)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.ELUtil.invokeMethod(ELUtil.java:239)
	... 40 more
]]

[2021-03-06T13:37:18.107-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615055838107] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.NullPointerException
	at com.google.zxing.qrcode.QRCodeWriter.encode(QRCodeWriter.java:54)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.createImage(AddUser.java:185)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.qrCode(AddUser.java:201)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.ELUtil.invokeMethod(ELUtil.java:239)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:440)
	at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:198)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:110)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:177)
	at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:183)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at com.sun.faces.facelets.el.ELText$ELTextVariable.toString(ELText.java:205)
	at com.sun.faces.facelets.el.ELText$ELTextComposite.toString(ELText.java:131)
	at com.sun.faces.facelets.compiler.CommentInstruction.write(CommentInstruction.java:36)
	at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:41)
	at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:169)
	at javax.faces.render.Renderer.encodeChildren(Renderer.java:152)
	at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:566)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1647)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:468)
	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:170)
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)
	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:102)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:199)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:708)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:40:06.110-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.resource.webcontainer.jsf.application] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056006110] [levelValue: 1000] [[
  Error Rendering View[/addUser/qrcode.xhtml]
javax.el.ELException: java.lang.NullPointerException
	at javax.el.ELUtil.invokeMethod(ELUtil.java:245)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:440)
	at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:198)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:110)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:177)
	at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:183)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at com.sun.faces.facelets.el.ELText$ELTextVariable.toString(ELText.java:205)
	at com.sun.faces.facelets.el.ELText$ELTextComposite.toString(ELText.java:131)
	at com.sun.faces.facelets.compiler.CommentInstruction.write(CommentInstruction.java:36)
	at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:41)
	at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:169)
	at javax.faces.render.Renderer.encodeChildren(Renderer.java:152)
	at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:566)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1647)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:468)
	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:170)
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)
	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:102)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:199)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:708)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at com.google.zxing.qrcode.QRCodeWriter.encode(QRCodeWriter.java:54)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.createImage(AddUser.java:185)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.qrCode(AddUser.java:201)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.ELUtil.invokeMethod(ELUtil.java:239)
	... 40 more
]]

[2021-03-06T13:40:06.112-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056006112] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
java.lang.NullPointerException
	at com.google.zxing.qrcode.QRCodeWriter.encode(QRCodeWriter.java:54)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.createImage(AddUser.java:185)
	at edu.stevens.cs594.chat.webapp.admin.AddUser.qrCode(AddUser.java:201)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.ELUtil.invokeMethod(ELUtil.java:239)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:440)
	at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:198)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:110)
	at com.sun.el.parser.AstValue.getValue(AstValue.java:177)
	at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:183)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
	at com.sun.faces.facelets.el.ELText$ELTextVariable.toString(ELText.java:205)
	at com.sun.faces.facelets.el.ELText$ELTextComposite.toString(ELText.java:131)
	at com.sun.faces.facelets.compiler.CommentInstruction.write(CommentInstruction.java:36)
	at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:41)
	at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:169)
	at javax.faces.render.Renderer.encodeChildren(Renderer.java:152)
	at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:566)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1647)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)
	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:468)
	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:170)
	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)
	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:102)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:199)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:708)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:40:06.116-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056006116] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:43:06.301-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00009] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615056186221] [timeMillis: 1615056186301] [levelValue: 800] [[
  Running Payara Version: Payara Server  5.2021.1 #badassfish (build 2818)]]

[2021-03-06T13:43:06.307-0500] [Payara 5.2021.1] [INFO] [NCLS-LOGGING-00010] [javax.enterprise.logging] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615056186221] [timeMillis: 1615056186307] [levelValue: 800] [[
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter]]

[2021-03-06T13:43:06.775-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.ha.store.spi.BackingStoreFactoryRegistry] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056186775] [levelValue: 800] [[
  Registered fish.payara.ha.hazelcast.store.HazelcastBackingStoreFactoryProxy for persistence-type = hazelcast in BackingStoreFactoryRegistry]]

[2021-03-06T13:43:11.228-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615056186221] [timeMillis: 1615056191228] [levelValue: 800] [[
  Hazelcast Instance Bound to JNDI at payara/Hazelcast]]

[2021-03-06T13:43:11.228-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615056186221] [timeMillis: 1615056191228] [levelValue: 800] [[
  JSR107 Caching Provider Bound to JNDI at payara/CachingProvider]]

[2021-03-06T13:43:11.229-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.hazelcast.HazelcastCore] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615056186221] [timeMillis: 1615056191229] [levelValue: 800] [[
  JSR107 Default Cache Manager Bound to JNDI at payara/CacheManager]]

[2021-03-06T13:43:11.396-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056191396] [levelValue: 800] [[
  Network Listener http-listener-1 started in: 7ms - bound to [/0.0.0.0:8080]]]

[2021-03-06T13:43:11.425-0500] [Payara 5.2021.1] [INFO] [] [org.hibernate.validator.internal.util.Version] [tid: _ThreadID=33 _ThreadName=RunLevelControllerThread-1615056186221] [timeMillis: 1615056191425] [levelValue: 800] [[
  HV000001: Hibernate Validator 6.1.5.Final]]

[2021-03-06T13:43:11.451-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056191451] [levelValue: 800] [[
  Network Listener http-listener-2 started in: 3ms - bound to [/0.0.0.0:8181]]]

[2021-03-06T13:43:11.463-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056191463] [levelValue: 800] [[
  Network Listener admin-listener started in: 3ms - bound to [/0.0.0.0:4848]]]

[2021-03-06T13:43:11.465-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00087] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056191465] [levelValue: 800] [[
  Grizzly 2.4.4 started in: 4762ms - bound to [http-listener-1:8080, http-listener-2:8181, admin-listener:4848]]]

[2021-03-06T13:43:11.846-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=35 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056191846] [levelValue: 800] [[
  Network Listener iiop-service started in: 2ms - bound to [/0.0.0.0:3700]]]

[2021-03-06T13:43:13.877-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056193877] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:43:14.006-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.resource.corba.org.glassfish.enterprise.iiop.api] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194006] [levelValue: 800] [[
  GlassFishORBFactory service initialized.]]

[2021-03-06T13:43:14.259-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01002] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194259] [levelValue: 800] [[
  Java security manager is disabled.]]

[2021-03-06T13:43:14.259-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01010] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194259] [levelValue: 800] [[
  Entering Security Startup Service.]]

[2021-03-06T13:43:14.262-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01143] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194262] [levelValue: 800] [[
  Loading policy provider com.sun.enterprise.security.provider.PolicyWrapper.]]

[2021-03-06T13:43:14.303-0500] [Payara 5.2021.1] [INFO] [NCLS-SECURITY-01011] [javax.enterprise.system.core.security] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194303] [levelValue: 800] [[
  Security Service(s) started successfully.]]

[2021-03-06T13:43:14.458-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194458] [levelValue: 800] [[
  Created HTTP listener http-listener-1 on host/port 0.0.0.0:8080]]

[2021-03-06T13:43:14.465-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194465] [levelValue: 800] [[
  Created HTTP listener http-listener-2 on host/port 0.0.0.0:8181]]

[2021-03-06T13:43:14.466-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00198] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194466] [levelValue: 800] [[
  Created HTTP listener admin-listener on host/port 0.0.0.0:4848]]

[2021-03-06T13:43:14.488-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194488] [levelValue: 800] [[
  Created virtual server server]]

[2021-03-06T13:43:14.491-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00200] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194491] [levelValue: 800] [[
  Created virtual server __asadmin]]

[2021-03-06T13:43:14.681-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00201] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056194681] [levelValue: 800] [[
  Virtual server server loaded default web module ]]

[2021-03-06T13:43:17.058-0500] [Payara 5.2021.1] [INFO] [] [org.jboss.weld.Version] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056197058] [levelValue: 800] [[
  WELD-000900: 3.1.4 (Final)]]

[2021-03-06T13:43:18.474-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core.transaction.com.sun.jts.CosTransactions] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056198474] [levelValue: 800] [[
  JTS5014: Recoverable JTS instance, serverId=[3700]]]

[2021-03-06T13:43:18.937-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056198937] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:43:18.938-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056198938] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:43:18.985-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056198985] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:43:19.079-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056199079] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:43:20.522-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056200522] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:43:20.525-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056200525] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:43:20.889-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056200889] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:43:20.905-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056200905] [levelValue: 800] [[
  Loading application ChatApp done in 9620 ms]]

[2021-03-06T13:43:21.011-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056201011] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:43:21.030-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056201030] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:43:21.155-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056201155] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:43:21.201-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056201201] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:43:21.296-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056201296] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:43:22.243-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202243] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:43:22.335-0500] [Payara 5.2021.1] [WARNING] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202335] [levelValue: 900] [[
  
Local Exception Stack: 
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:43:22.341-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202341] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB ChatDomainProducer, method: public void edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainDispose(javax.persistence.EntityManager)]]

[2021-03-06T13:43:22.341-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202341] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted
	at com.sun.ejb.containers.EJBContainerTransactionManager.useClientTx(EJBContainerTransactionManager.java:345)
	at com.sun.ejb.containers.EJBContainerTransactionManager.preInvokeTx(EJBContainerTransactionManager.java:238)
	at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4554)
	at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:2034)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:210)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy304.chatDomainDispose(Unknown Source)
	at edu.stevens.cs594.chat.service.ejb.__EJB31_Generated__ChatDomainProducer__Intf____Bean__.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.ChatDomainProducer$Proxy$_$$_Weld$EnterpriseProxy$.chatDomainDispose(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$DefaultMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.bean.DisposalMethod.invokeDisposeMethod(DisposalMethod.java:100)
	at org.jboss.weld.injection.producer.AbstractMemberProducer.dispose(AbstractMemberProducer.java:143)
	at org.jboss.weld.bean.AbstractProducerBean.destroy(AbstractProducerBean.java:188)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.destroy(IsolatedForwardingBean.java:50)
	at org.jboss.weld.contexts.CreationalContextImpl.destroy(CreationalContextImpl.java:143)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:131)
	at org.jboss.weld.contexts.CreationalContextImpl.release(CreationalContextImpl.java:122)
	at org.glassfish.weld.services.JCDIServiceImpl$JCDIInjectionContextImpl.cleanup(JCDIServiceImpl.java:612)
	at com.sun.ejb.containers.BaseContainer.cleanupInstance(BaseContainer.java:1825)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.destroy(StatelessSessionContainer.java:703)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.destroyObject(NonBlockingPool.java:298)
	at com.sun.ejb.containers.StatelessSessionContainer.forceDestroyBean(StatelessSessionContainer.java:343)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:611)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:43:22.344-0500] [Payara 5.2021.1] [ERROR] [] [org.jboss.weld.Bean] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202344] [levelValue: 1000] [[
  WELD-000019: Error destroying an instance com.sun.enterprise.container.common.impl.EntityManagerWrapper@42900cec of Producer Method [EntityManager] with qualifiers [@ChatDomain @Any] declared as [[BackedAnnotatedMethod] @Produces @ChatDomain public edu.stevens.cs594.chat.service.ejb.ChatDomainProducer.chatDomainProducer()]]]

[2021-03-06T13:43:22.345-0500] [Payara 5.2021.1] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202345] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MessageServiceBean, method: public java.lang.String edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(edu.stevens.cs594.chat.service.dto.UserDto) throws edu.stevens.cs594.chat.service.ejb.IMessageService$MessageServiceExn]]

[2021-03-06T13:43:22.345-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202345] [levelValue: 900] [[
  
javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:43:22.352-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.tools.deployment.common] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202352] [levelValue: 1000] [[
  Exception while invoking class org.glassfish.ejb.startup.EjbApplication start method
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:43:22.353-0500] [Payara 5.2021.1] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202353] [levelValue: 1000] [[
  Exception during lifecycle processing
javax.ejb.EJBException: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:689)
	at com.sun.ejb.containers.AbstractSingletonContainer.instantiateSingletonInstance(AbstractSingletonContainer.java:421)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:219)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.initializeSingleton(SingletonLifeCycleManager.java:180)
	at org.glassfish.ejb.startup.SingletonLifeCycleManager.doStartup(SingletonLifeCycleManager.java:159)
	at org.glassfish.ejb.startup.EjbApplication.start(EjbApplication.java:171)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:293)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:364)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:623)
	at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:335)
	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)
	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)
	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)
	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)
	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)
	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)
	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)
	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.ejb.CreateException: Initialization failed for Singleton InitBean
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:542)
	at com.sun.ejb.containers.AbstractSingletonContainer.access$000(AbstractSingletonContainer.java:81)
	at com.sun.ejb.containers.AbstractSingletonContainer$SingletonContextFactory.create(AbstractSingletonContainer.java:687)
	... 23 more
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
	at com.sun.proxy.$Proxy303.addTestUser(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
	at edu.stevens.cs594.chat.service.ejb.IMessageService$IMessageServiceLocal$IMessageServiceRemote$1679704169$Proxy$_$$_Weld$EnterpriseProxy$.addTestUser(Unknown Source)
	at edu.stevens.cs594.chat.test.InitBean.init(InitBean.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.BeanCallbackInterceptor.intercept(InterceptorManager.java:1022)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.init(SystemInterceptorProxy.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.CallbackInvocationContext.proceed(CallbackInvocationContext.java:204)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.CallbackInterceptor.intercept(InterceptorManager.java:978)
	at com.sun.ejb.containers.interceptors.CallbackChainImpl.invokeNext(CallbackChainImpl.java:72)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:418)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:381)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:2062)
	at com.sun.ejb.containers.AbstractSingletonContainer.createSingletonEJB(AbstractSingletonContainer.java:529)
	... 25 more
Caused by: javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at com.sun.ejb.containers.EJBContainerTransactionManager.checkExceptionClientTx(EJBContainerTransactionManager.java:615)
	at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:485)
	at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4592)
	at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2125)
	... 68 more
Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:980)
	at org.eclipse.persistence.internal.jpa.QueryImpl.performPreQueryFlush(QueryImpl.java:976)
	at org.eclipse.persistence.internal.jpa.QueryImpl.executeReadQuery(QueryImpl.java:211)
	at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:530)
	at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:404)
	at edu.stevens.cs594.chat.domain.UserDAO.addUser(UserDAO.java:41)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addUser(MessageService.java:166)
	at edu.stevens.cs594.chat.service.ejb.MessageService.addTestUser(MessageService.java:200)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
	at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
	at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
	at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
	at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:888)
	at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:833)
	at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:375)
	at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4798)
	at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4786)
	at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)
	... 66 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
Error Code: 0
Call: INSERT INTO ROLES (ROLENAME, DESCRIPTION) VALUES (?, ?)
	bind => [2 parameters bound]
Query: InsertObjectQuery(edu.stevens.cs594.chat.domain.Role@2fb1489b)
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:342)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1650)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:906)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:970)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:640)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:567)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:2099)
	at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:313)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:277)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:263)
	at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:413)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:167)
	at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:182)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:504)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:82)
	at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:92)
	at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:316)
	at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:60)
	at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:911)
	at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:810)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:110)
	at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:87)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2983)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)
	at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1830)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:229)
	at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
	at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:4398)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1495)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1641)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:457)
	at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:975)
	... 104 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (rolename)=(admin) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:441)
	at com.sun.proxy.$Proxy361.executeUpdate(Unknown Source)
	at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:457)
	at com.sun.proxy.$Proxy362.executeUpdate(Unknown Source)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:898)
	... 134 more
]]

[2021-03-06T13:43:22.354-0500] [Payara 5.2021.1] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202354] [levelValue: 1000] [[
  Exception while loading the app]]

[2021-03-06T13:43:22.382-0500] [Payara 5.2021.1] [SEVERE] [AS-WEB-GLUE-00192] [javax.enterprise.web] [tid: _ThreadID=34 _ThreadName=RunLevelControllerThread-1615056186228] [timeMillis: 1615056202382] [levelValue: 1000] [[
  Undeployment failed for context /chat-web]]

[2021-03-06T13:43:22.431-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00017] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615056202431] [levelValue: 800] [[
  Payara Server  5.2021.1 #badassfish (2818) startup time : Felix (2445ms), startup services(16216ms), total(18661ms)]]

[2021-03-06T13:43:22.433-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.cluster.PayaraCluster] [tid: _ThreadID=160 _ThreadName=Executor-Service-7] [timeMillis: 1615056202433] [levelValue: 800] [[
  Data Grid Status 
Payara Data Grid State: DG Version: 4 DG Name: development DG Size: 1
Instances: {
 DataGrid: development Name: server Lite: false This: true UUID: 9d46f17d-280d-4222-8505-82b3e608b4d7 Address: /192.168.1.114:4900
}]]

[2021-03-06T13:43:22.441-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.nucleus.notification.NotificationService] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615056202441] [levelValue: 800] [[
  Payara Notification Service bootstrapped.]]

[2021-03-06T13:43:22.446-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615056202446] [levelValue: 800] [[
  Bootstrapping Monitoring Console Runtime]]

[2021-03-06T13:43:22.471-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615056202471] [levelValue: 800] [[
  Starting monitoring data collection for server]]

[2021-03-06T13:43:22.471-0500] [Payara 5.2021.1] [INFO] [] [monitoring-console-core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1615056202471] [levelValue: 800] [[
  Starting monitoring watch collection for server]]

[2021-03-06T13:43:22.494-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00101] [javax.enterprise.system.core] [tid: _ThreadID=32 _ThreadName=RunLevelControllerThread-1615056186220] [timeMillis: 1615056202494] [levelValue: 800] [[
  Network Listener JMS_PROXY_default_JMS_host started in: 2ms - bound to [/0.0.0.0:7676]]]

[2021-03-06T13:43:22.629-0500] [Payara 5.2021.1] [INFO] [NCLS-JMX-00005] [javax.enterprise.system.jmx] [tid: _ThreadID=170 _ThreadName=Thread-23] [timeMillis: 1615056202629] [levelValue: 800] [[
  JMXStartupService has started JMXConnector on JMXService URL service:jmx:rmi://0.0.0.0:8686/jndi/rmi://0.0.0.0:8686/jmxrmi]]

[2021-03-06T13:43:23.611-0500] [Payara 5.2021.1] [INFO] [NCLS-REST-00001] [javax.enterprise.admin.rest] [tid: _ThreadID=125 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1615056203611] [levelValue: 800] [[
  Listening to REST requests at context: /management/domain.]]

[2021-03-06T13:43:23.939-0500] [Payara 5.2021.1] [INFO] [] [org.jvnet.hk2.osgiadapter] [tid: _ThreadID=23 _ThreadName=FelixStartLevel] [timeMillis: 1615056203939] [levelValue: 800] [[
  Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.]]

[2021-03-06T13:43:24.314-0500] [Payara 5.2021.1] [INFO] [NCLS-CORE-00022] [javax.enterprise.system.core] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615056204314] [levelValue: 800] [[
  Loading application __admingui done in 618 ms]]

[2021-03-06T13:43:25.613-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615056205613] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '']]

[2021-03-06T13:43:26.813-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=180 _ThreadName=Thread-24] [timeMillis: 1615056206813] [levelValue: 800] [[
  Loading application [__admingui] at [/]]]

[2021-03-06T13:43:30.890-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.system.tools.deployment.dol] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056210890] [levelValue: 900] [[
  enterprise.deployment.backend.computeRunAsPrincipal]]

[2021-03-06T13:43:31.033-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211033] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Role actually got transformed]]

[2021-03-06T13:43:31.038-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211038] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.User actually got transformed]]

[2021-03-06T13:43:31.042-0500] [Payara 5.2021.1] [INFO] [NCLS-COMUTIL-00017] [javax.enterprise.system.util] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211042] [levelValue: 800] [[
  edu.stevens.cs594.chat.domain.Message actually got transformed]]

[2021-03-06T13:43:31.051-0500] [Payara 5.2021.1] [INFO] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211051] [levelValue: 800] [[
  EclipseLink, version: Eclipse Persistence Services - 2.7.7.payara-p3]]

[2021-03-06T13:43:31.152-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211152] [levelValue: 300] [[
  Execute query DataReadQuery(sql="SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN'")]]

[2021-03-06T13:43:31.153-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211153] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:43:31.153-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211153] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:43:31.153-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211153] [levelValue: 500] [[
  SELECT * FROM SEQUENCE WHERE SEQ_NAME = 'SEQ_GEN']]

[2021-03-06T13:43:31.154-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211154] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:43:31.154-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.query] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211154] [levelValue: 300] [[
  Execute query DataModifyQuery(sql="INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)")]]

[2021-03-06T13:43:31.154-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211154] [levelValue: 300] [[
  Connection acquired from connection pool [read].]]

[2021-03-06T13:43:31.154-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211154] [levelValue: 300] [[
  reconnecting to external connection pool]]

[2021-03-06T13:43:31.155-0500] [Payara 5.2021.1] [FINE] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.sql] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211155] [levelValue: 500] [[
  INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)]]

[2021-03-06T13:43:31.155-0500] [Payara 5.2021.1] [FINEST] [] [org.eclipse.persistence.session./file:/C:/Users/caleb/Documents/git/Enterprise-and-Cloud-Security-CS594/hw2/Assignment2-Code/payara-5.2021.1/payara5/glassfish/domains/domain1/eclipseApps/ChatApp/lib/ChatDomain-1.0.0.jar/_ChatDomain.connection] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211155] [levelValue: 300] [[
  Connection released to connection pool [read].]]

[2021-03-06T13:43:31.244-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211244] [levelValue: 800] [[
  Portable JNDI names for EJB ChatDomainProducer: [java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer!edu.stevens.cs594.chat.service.ejb.ChatDomainProducer, java:global/ChatApp/ChatService-1.0.0/ChatDomainProducer]]]

[2021-03-06T13:43:31.349-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211349] [levelValue: 800] [[
  Portable JNDI names for EJB MessageServiceBean: [java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, java:global/ChatApp/ChatService-1.0.0/MessageServiceBean!edu.stevens.cs594.chat.service.ejb.IMessageServiceLocal]]]

[2021-03-06T13:43:31.349-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00055] [javax.enterprise.ejb.container] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211349] [levelValue: 800] [[
  Glassfish-specific (Non-portable) JNDI names for EJB MessageServiceBean: [edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote, edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote#edu.stevens.cs594.chat.service.ejb.IMessageServiceRemote]]]

[2021-03-06T13:43:31.404-0500] [Payara 5.2021.1] [INFO] [AS-EJB-00054] [javax.enterprise.ejb.container] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211404] [levelValue: 800] [[
  Portable JNDI names for EJB InitBean: [java:global/ChatApp/ChatInit-1.0.0/InitBean!edu.stevens.cs594.chat.test.InitBean, java:global/ChatApp/ChatInit-1.0.0/InitBean]]]

[2021-03-06T13:43:31.925-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211925] [levelValue: 800] [[
  Activating javax.security.enterprise.identitystore.DatabaseIdentityStoreDefinition identity store from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:43:31.925-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.cdi.CdiExtension] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056211925] [levelValue: 800] [[
  Activating javax.security.enterprise.authentication.mechanism.http.CustomFormAuthenticationMechanismDefinition authentication mechanism from edu.stevens.cs594.chat.webapp.AppConfig class]]

[2021-03-06T13:43:32.051-0500] [Payara 5.2021.1] [INFO] [] [fish.payara.micro.cdi.extension.ClusteredCDIEventBusImpl] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212051] [levelValue: 800] [[
  Clustered CDI Event bus initialized]]

[2021-03-06T13:43:32.105-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212105] [levelValue: 800] [[
  Your name here: Caleb Elliott]]

[2021-03-06T13:43:32.128-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212128] [levelValue: 800] [[
  Adding user admin]]

[2021-03-06T13:43:32.164-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212164] [levelValue: 800] [[
  Adding user joe]]

[2021-03-06T13:43:32.175-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212175] [levelValue: 800] [[
  Adding user jane]]

[2021-03-06T13:43:32.187-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.test.InitBean] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212187] [levelValue: 800] [[
  Adding user john]]

[2021-03-06T13:43:32.440-0500] [Payara 5.2021.1] [INFO] [] [org.glassfish.soteria.servlet.SamRegistrationInstaller] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212440] [levelValue: 800] [[
  Initializing Soteria 1.1-b01.payara-p5 for context '/chat-web']]

[2021-03-06T13:43:32.497-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212497] [levelValue: 900] [[
  fish.payara.security.authentication.twoIdentityStore.TwoIdentityStoreAuthenticationMechanism]]

[2021-03-06T13:43:32.590-0500] [Payara 5.2021.1] [INFO] [jsf.config.listener.version] [javax.enterprise.resource.webcontainer.jsf.config] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056212590] [levelValue: 800] [[
  Initializing Mojarra |version.string| for context '/chat-web']]

[2021-03-06T13:43:33.144-0500] [Payara 5.2021.1] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056213144] [levelValue: 800] [[
  Loading application [ChatApp#ChatWebApp-1.0.0.war] at [/chat-web]]]

[2021-03-06T13:43:33.332-0500] [Payara 5.2021.1] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=139 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1615056213332] [levelValue: 800] [[
  ChatApp was successfully deployed in 4,129 milliseconds.]]

[2021-03-06T13:44:27.667-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056267667] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:44:27.668-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056267668] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T13:44:27.674-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056267674] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T13:44:27.675-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056267675] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T13:48:16.583-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615056496583] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:48:27.296-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615056507296] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:51:55.526-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615056715526] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:51:55.526-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=120 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1615056715526] [levelValue: 800] [[
  Principal: a]]

[2021-03-06T13:53:46.524-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056826524] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:53:46.524-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056826524] [levelValue: 800] [[
  Principal: a]]

[2021-03-06T13:54:41.895-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615056881895] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:55:12.553-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615056912553] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:55:12.553-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615056912553] [levelValue: 800] [[
  Principal: a]]

[2021-03-06T13:55:43.103-0500] [Payara 5.2021.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615056943103] [levelValue: 900] [[
  StandardWrapperValve[FacesServlet]: Servlet.service() for servlet FacesServlet threw exception
javax.faces.application.ViewExpiredException: viewId:/login.xhtml - View /login.xhtml could not be restored.
	at com.sun.faces.lifecycle.RestoreViewPhase.execute(RestoreViewPhase.java:195)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)
	at com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:110)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:177)
	at javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:707)
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)
	at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
	at org.apache.catalina.core.StandardPipeline.doChainInvoke(StandardPipeline.java:581)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
	at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:200)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
	at java.lang.Thread.run(Thread.java:748)
]]

[2021-03-06T13:57:30.829-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615057050829] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T13:58:07.139-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615057087139] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T13:58:07.139-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615057087139] [levelValue: 800] [[
  Principal: a]]

[2021-03-06T14:00:14.405-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615057214405] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T14:00:14.405-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615057214405] [levelValue: 800] [[
  Principal: a]]

[2021-03-06T14:02:13.999-0500] [Payara 5.2021.1] [WARNING] [] [org.glassfish.grizzly.http2.Http2Session] [tid: _ThreadID=119 _ThreadName=http-thread-pool::http-listener-2(2)] [timeMillis: 1615057333999] [levelValue: 900] [[
  Unable to write GOAWAY.  Terminating session.
java.io.IOException: Locally closed
]]

[2021-03-06T14:05:59.590-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615057559590] [levelValue: 800] [[
  Result of authentication: SEND_CONTINUE]]

[2021-03-06T14:05:59.591-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615057559591] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T14:06:05.466-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615057565466] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T14:06:05.466-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=122 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1615057565466] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T14:08:06.425-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615057686425] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T14:08:06.425-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615057686425] [levelValue: 800] [[
  Principal: b]]

[2021-03-06T14:08:09.737-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615057689737] [levelValue: 800] [[
  Selected login role: moderator]]

[2021-03-06T14:19:02.516-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058342516] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T14:19:02.516-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058342516] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T14:19:12.833-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058352833] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T14:19:12.834-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058352834] [levelValue: 800] [[
  Selected login role: admin]]

[2021-03-06T14:19:48.614-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615058388614] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T14:19:48.614-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615058388614] [levelValue: 800] [[
  Principal: jane]]

[2021-03-06T14:19:48.615-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615058388615] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T14:19:48.615-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=121 _ThreadName=http-thread-pool::http-listener-2(4)] [timeMillis: 1615058388615] [levelValue: 800] [[
  Selected login role: moderator]]

[2021-03-06T14:24:09.912-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058649912] [levelValue: 800] [[
  Result of authentication: SUCCESS]]

[2021-03-06T14:24:09.913-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058649913] [levelValue: 800] [[
  Principal: joe]]

[2021-03-06T14:24:09.913-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.service.ejb.OneTimePassword] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058649913] [levelValue: 800] [[
  Skipping 2FA for test user (null secret)]]

[2021-03-06T14:24:09.914-0500] [Payara 5.2021.1] [INFO] [] [edu.stevens.cs594.chat.webapp.LoginBacking] [tid: _ThreadID=118 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1615058649914] [levelValue: 800] [[
  Selected login role: admin]]

